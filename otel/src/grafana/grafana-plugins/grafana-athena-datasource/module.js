define(["@grafana/data","@grafana/runtime","react","@emotion/css","@grafana/ui","rxjs","lodash"],((e,t,n,r,o,a,i)=>(()=>{"use strict";var l={358:(e,t,n)=>{var r=n(545),o=n(177),a=n(305),i=n(556);n(650),n(388);function l(e){return"function"==typeof e}function s(e){return function(t){if(function(e){return l(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var u,c=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},d=((u=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),u.prototype.constructor=u,u);function f(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var p=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=i.__values(a),u=s.next();!u.done;u=s.next())u.value.remove(this)}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(l(c))try{c()}catch(e){o=e instanceof d?e.errors:[e]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=i.__values(f),g=p.next();!g.done;g=p.next()){var y=g.value;try{m(y)}catch(e){o=null!=o?o:[],e instanceof d?o=i.__spreadArray(i.__spreadArray([],i.__read(o)),i.__read(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}}if(o)throw new d(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)m(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&f(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&f(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function g(e){return e instanceof p||e&&"closed"in e&&l(e.remove)&&l(e.add)&&l(e.unsubscribe)}function m(e){l(e)?e():e.unsubscribe()}p.EMPTY;var y=void 0,h=!1,b={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,i.__spreadArray([e,t],i.__read(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function v(e){b.setTimeout((function(){throw e}))}function E(){}var w=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,g(t)&&t.add(n)):n.destination=A,n}return i.__extends(t,e),t.create=function(e,t,n){return new S(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(p),O=Function.prototype.bind;function T(e,t){return O.call(e,t)}var q=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){C(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){C(e)}else C(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){C(e)}},e}(),S=function(e){function t(t,n,r){var o,a,i=e.call(this)||this;return l(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:i&&h?((a=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},o={next:t.next&&T(t.next,a),error:t.error&&T(t.error,a),complete:t.complete&&T(t.complete,a)}):o=t,i.destination=new q(o),i}return i.__extends(t,e),t}(w);function C(e){v(e)}var A={closed:!0,next:E,error:function(e){throw e},complete:E},R="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(e){return e}var P=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o,a,i,s=this,u=(r=e)&&r instanceof w||function(e){return e&&l(e.next)&&l(e.error)&&l(e.complete)}(r)&&g(r)?e:new S(e,t,n);return a=(o=s).operator,i=o.source,u.add(a?a.call(u,i):i?s._subscribe(u):s._trySubscribe(u)),u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=_(t))((function(t,r){var o=new S({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[R]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?I:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=_(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function _(e){var t;return null!==(t=null!=e?e:y)&&void 0!==t?t:Promise}var N="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function D(e){return new P((function(t){(function(e,t){var n,r,o,a;return i.__awaiter(this,void 0,void 0,(function(){var l,s;return i.__generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=i.__asyncValues(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(l=r.value,t.next(l),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),o={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function x(e,t,n,r,o){return new F(e,t,n,r,o)}var F=function(e){function t(t,n,r,o,a,i){var l=e.call(this,t)||this;return l.onFinalize=a,l.shouldUnsubscribe=i,l._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,l._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,l}return i.__extends(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(w);function k(e){return s((function(t,n){var r,o=null,a=!1;o=t.subscribe(x(n,void 0,void 0,(function(s){r=function(e){if(e instanceof P)return e;if(null!=e){if(function(e){return l(e[R])}(e))return a=e,new P((function(e){var t=a[R]();if(l(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(c(e))return o=e,new P((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(l(null==(r=e)?void 0:r.then))return n=e,new P((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,v)}));if(function(e){return Symbol.asyncIterator&&l(null==e?void 0:e[Symbol.asyncIterator])}(e))return D(e);if(function(e){return l(null==e?void 0:e[N])}(e))return t=e,new P((function(e){var n,r;try{for(var o=i.__values(t),a=o.next();!a.done;a=o.next()){var l=a.value;if(e.next(l),e.closed)return}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return l(null==e?void 0:e.getReader)}(e))return D(function(e){return i.__asyncGenerator(this,arguments,(function(){var t,n,r;return i.__generator(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,i.__await(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,i.__await(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,i.__await(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,r,o,a;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}(e(s,k(e)(t))),o?(o.unsubscribe(),o=null,r.subscribe(n)):a=!0}))),a&&(o.unsubscribe(),o=null,r.subscribe(n))}))}var L=Object.defineProperty,j=Object.defineProperties,M=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,W=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G=(e,t)=>{for(var n in t||(t={}))K.call(t,n)&&W(e,n,t[n]);if(B)for(var n of B(t))U.call(t,n)&&W(e,n,t[n]);return e},$=(e,t)=>j(e,M(t)),V=Object.defineProperty,Y=Object.defineProperties,H=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&X(e,n,t[n]);if(Q)for(var n of Q(t))z.call(t,n)&&X(e,n,t[n]);return e},ee=(e,t)=>Y(e,H(t));const te=["started","submitted","running"],ne=(e="")=>te.includes(e);class re extends r.DataSourceWithBackend{constructor(e,t=!1){super(e),this.runningQueries={},this.requestCounter=100,this.cancel=e=>{this.storeQuery(e,{shouldCancel:!0})},this.requestIdPrefix=e.id,this.asyncQueryDataSupport=t}query(e){if(this.asyncQueryDataSupport){const t=this.filterQuery?e.targets.filter(this.filterQuery):e.targets;if(!t.length)return o.of({data:[]});const n=[];for(let r of t)r.hide||n.push(this.doSingle(r,e));return o.merge(...n)}return super.query(e)}storeQuery(e,t){const n=JSON.stringify(e),r=this.runningQueries[n]||{};this.runningQueries[n]=Z(Z({},r),t)}getQuery(e){const t=JSON.stringify(e);return this.runningQueries[t]||{}}removeQuery(e){const t=JSON.stringify(e);delete this.runningQueries[t]}doSingle(e,t){let n,i,l=[];return u=ee(Z({},t),{targets:[e],requestId:`${this.requestIdPrefix}_${this.requestCounter++}`}),c={getNextQuery:t=>{var r,o;if(null==(r=t.data)?void 0:r.length){const r=null==(o=t.data[0].meta)?void 0:o.custom;if((e=>!("object"!=typeof e||!(null==e?void 0:e.hasOwnProperty("queryID"))||!(null==e?void 0:e.hasOwnProperty("status"))))(r)&&ne(r.status))return n=r.queryID,i=r.status,this.storeQuery(e,{queryID:n}),ee(Z({},e),{queryID:n})}this.removeQuery(e)},query:e=>{const{range:t,targets:n,requestId:a,intervalMs:l,maxDataPoints:u}=e,[c]=n,d=Z(Z({},c),this.asyncQueryDataSupport?{meta:{queryFlow:"async"}}:{}),f={queries:[Z(ee(Z({},d),{intervalMs:l,maxDataPoints:u,datasource:null==this?void 0:this.getRef(),datasourceId:this.id}),this.applyTemplateVariables(d,e.scopedVars))],range:t,from:t.from.valueOf().toString(),to:t.to.valueOf().toString()};let p={};(!r.config.featureToggles.useCachingService||!r.config.featureToggles.awsAsyncQueryCaching)&&ne(i)&&(p={"X-Cache-Skip":!0});const g={method:"POST",url:"/api/ds/query",data:f,requestId:a,headers:p};return r.getBackendSrv().fetch(g).pipe((m=e=>({data:r.toDataQueryResponse(e).data}),s((function(e,t){var n=0;e.subscribe(x(t,(function(e){t.next(m.call(undefined,e,n++))})))}))),k((e=>o.of(r.toDataQueryResponse(e)))));var m},process:e=>{for(const t of e)t.fields.length>0&&l.push(t);return l},shouldCancel:()=>{const{shouldCancel:t}=this.getQuery(e);return!!t},onCancel:()=>{n&&(this.removeQuery(e),this.postResource("cancel",{queryId:n}).catch((e=>{e.isHandled=!0,console.error(`error cancelling query ID: ${n}`,e)})))}},new o.Observable((e=>{let t,n,r=a.LoadingState.Loading,o=1,i=1,l=!1;const s={next:n=>{r=n.state;let i=!1;if(r!==a.LoadingState.Error){t=c.getNextQuery(n);const e=c.shouldCancel();t&&e&&(l=e,t=void 0),i=!0}const s=c.process(n.data);i&&(t?(r=s.length&&s[0].length?a.LoadingState.Streaming:a.LoadingState.Loading,o=2*o>1e3?1e3:2*o):(r=a.LoadingState.Done,o=0)),e.next($(G({},n),{data:s,state:r,key:u.requestId}))},error:t=>{e.error(t)},complete:()=>{if(n&&(n.unsubscribe(),n=void 0),t){const e=t;setTimeout((()=>{n=c.query($(G({},u),{requestId:`${u.requestId}.${++i}`,targets:[e]})).subscribe(s),t=void 0}),10*o)}else e.complete()}};return n=c.query(u).subscribe(s),function(){s.complete(),(t||l)&&c.onCancel(),t=void 0}}));var u,c}}t.GG=re},569:(e,t,n)=>{var r=n(650),o=n(388),a=n(305),i=n(545),l=n(746),s=n(980),u=n(843);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=c(r);const f=["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-iso-east-1","us-isob-east-1","us-west-1","us-west-2"];var p=(e=>(e.Keys="keys",e.Credentials="credentials",e.Default="default",e.EC2IAMRole="ec2_iam_role",e.ARN="arn",e.GrafanaAssumeRole="grafana_assume_role",e))(p||{});const g=[{label:"Workspace IAM Role",value:p.EC2IAMRole},{label:"Grafana Assume Role",value:p.GrafanaAssumeRole},{label:"AWS SDK Default",value:p.Default},{label:"Access & secret key",value:p.Keys},{label:"Credentials file",value:p.Credentials}];var m=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),y="-ms-",h="-moz-",b="-webkit-",v="comm",E="rule",w="decl",O="@keyframes",T=Math.abs,q=String.fromCharCode,S=Object.assign;function C(e){return e.trim()}function A(e,t,n){return e.replace(t,n)}function R(e,t){return e.indexOf(t)}function I(e,t){return 0|e.charCodeAt(t)}function P(e,t,n){return e.slice(t,n)}function _(e){return e.length}function N(e){return e.length}function D(e,t){return t.push(e),e}var x=1,F=1,k=0,L=0,j=0,M="";function B(e,t,n,r,o,a,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:x,column:F,length:i,return:""}}function K(e,t){return S(B("",null,null,"",null,null,0),e,{length:-e.length},t)}function U(){return j=L>0?I(M,--L):0,F--,10===j&&(F=1,x--),j}function W(){return j=L<k?I(M,L++):0,F++,10===j&&(F=1,x++),j}function G(){return I(M,L)}function $(){return L}function V(e,t){return P(M,e,t)}function Y(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function H(e){return x=F=1,k=_(M=e),L=0,[]}function Q(e){return M="",e}function J(e){return C(V(L-1,Z(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(j=G())&&j<33;)W();return Y(e)>2||Y(j)>3?"":" "}function X(e,t){for(;--t&&W()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return V(e,$()+(t<6&&32==G()&&32==W()))}function Z(e){for(;W();)switch(j){case e:return L;case 34:case 39:34!==e&&39!==e&&Z(j);break;case 40:41===e&&Z(e);break;case 92:W()}return L}function ee(e,t){for(;W()&&e+j!==57&&(e+j!==84||47!==G()););return"/*"+V(t,L-1)+"*"+q(47===e?e:W())}function te(e){for(;!Y(G());)W();return V(e,L)}function ne(e){return Q(re("",null,null,null,[""],e=H(e),0,[0],e))}function re(e,t,n,r,o,a,i,l,s){for(var u=0,c=0,d=i,f=0,p=0,g=0,m=1,y=1,h=1,b=0,v="",E=o,w=a,O=r,T=v;y;)switch(g=b,b=W()){case 40:if(108!=g&&58==I(T,d-1)){-1!=R(T+=A(J(b),"&","&\f"),"&\f")&&(h=-1);break}case 34:case 39:case 91:T+=J(b);break;case 9:case 10:case 13:case 32:T+=z(g);break;case 92:T+=X($()-1,7);continue;case 47:switch(G()){case 42:case 47:D(ae(ee(W(),$()),t,n),s);break;default:T+="/"}break;case 123*m:l[u++]=_(T)*h;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+c:p>0&&_(T)-d&&D(p>32?ie(T+";",r,n,d-1):ie(A(T," ","")+";",r,n,d-2),s);break;case 59:T+=";";default:if(D(O=oe(T,t,n,u,c,o,l,v,E=[],w=[],d),a),123===b)if(0===c)re(T,t,O,O,E,a,d,l,w);else switch(99===f&&110===I(T,3)?100:f){case 100:case 109:case 115:re(e,O,O,r&&D(oe(e,O,O,0,0,o,l,v,o,E=[],d),w),o,w,d,l,r?E:w);break;default:re(T,O,O,O,[""],w,0,l,w)}}u=c=p=0,m=h=1,v=T="",d=i;break;case 58:d=1+_(T),p=g;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==U())continue;switch(T+=q(b),b*m){case 38:h=c>0?1:(T+="\f",-1);break;case 44:l[u++]=(_(T)-1)*h,h=1;break;case 64:45===G()&&(T+=J(W())),f=G(),c=d=_(v=T+=te($())),b++;break;case 45:45===g&&2==_(T)&&(m=0)}}return a}function oe(e,t,n,r,o,a,i,l,s,u,c){for(var d=o-1,f=0===o?a:[""],p=N(f),g=0,m=0,y=0;g<r;++g)for(var h=0,b=P(e,d+1,d=T(m=i[g])),v=e;h<p;++h)(v=C(m>0?f[h]+" "+b:A(b,/&\f/g,f[h])))&&(s[y++]=v);return B(e,t,n,0===o?E:l,s,u,c)}function ae(e,t,n){return B(e,t,n,v,q(j),P(e,2,-2),0)}function ie(e,t,n,r){return B(e,t,n,w,P(e,0,r),P(e,r+1,-1),r)}function le(e,t){for(var n="",r=N(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function se(e,t,n,r){switch(e.type){case"@import":case w:return e.return=e.return||e.value;case v:return"";case O:return e.return=e.value+"{"+le(e.children,r)+"}";case E:e.value=e.props.join(",")}return _(n=le(e.children,r))?e.return=e.value+"{"+n+"}":""}function ue(e){var t=N(e);return function(n,r,o,a){for(var i="",l=0;l<t;l++)i+=e[l](n,r,o,a)||"";return i}}function ce(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var de=function(e,t,n){for(var r=0,o=0;r=o,o=G(),38===r&&12===o&&(t[n]=1),!Y(o);)W();return V(e,L)},fe=new WeakMap,pe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fe.get(n))&&!r){fe.set(e,!0);for(var o=[],a=function(e,t){return Q(function(e,t){var n=-1,r=44;do{switch(Y(r)){case 0:38===r&&12===G()&&(t[n]=1),e[n]+=de(L-1,t,n);break;case 2:e[n]+=J(r);break;case 4:if(44===r){e[++n]=58===G()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=q(r)}}while(r=W());return e}(H(e),t))}(t,o),i=n.props,l=0,s=0;l<a.length;l++)for(var u=0;u<i.length;u++,s++)e.props[s]=o[l]?a[l].replace(/&\f/g,i[u]):i[u]+" "+a[l]}}},ge=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function me(e,t){switch(function(e,t){return 45^I(e,0)?(((t<<2^I(e,0))<<2^I(e,1))<<2^I(e,2))<<2^I(e,3):0}(e,t)){case 5103:return b+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return b+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return b+e+h+e+y+e+e;case 6828:case 4268:return b+e+y+e+e;case 6165:return b+e+y+"flex-"+e+e;case 5187:return b+e+A(e,/(\w+).+(:[^]+)/,b+"box-$1$2"+y+"flex-$1$2")+e;case 5443:return b+e+y+"flex-item-"+A(e,/flex-|-self/,"")+e;case 4675:return b+e+y+"flex-line-pack"+A(e,/align-content|flex-|-self/,"")+e;case 5548:return b+e+y+A(e,"shrink","negative")+e;case 5292:return b+e+y+A(e,"basis","preferred-size")+e;case 6060:return b+"box-"+A(e,"-grow","")+b+e+y+A(e,"grow","positive")+e;case 4554:return b+A(e,/([^-])(transform)/g,"$1"+b+"$2")+e;case 6187:return A(A(A(e,/(zoom-|grab)/,b+"$1"),/(image-set)/,b+"$1"),e,"")+e;case 5495:case 3959:return A(e,/(image-set\([^]*)/,b+"$1$`$1");case 4968:return A(A(e,/(.+:)(flex-)?(.*)/,b+"box-pack:$3"+y+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+b+e+e;case 4095:case 3583:case 4068:case 2532:return A(e,/(.+)-inline(.+)/,b+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_(e)-1-t>6)switch(I(e,t+1)){case 109:if(45!==I(e,t+4))break;case 102:return A(e,/(.+:)(.+)-([^]+)/,"$1"+b+"$2-$3$1"+h+(108==I(e,t+3)?"$3":"$2-$3"))+e;case 115:return~R(e,"stretch")?me(A(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==I(e,t+1))break;case 6444:switch(I(e,_(e)-3-(~R(e,"!important")&&10))){case 107:return A(e,":",":"+b)+e;case 101:return A(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+b+(45===I(e,14)?"inline-":"")+"box$3$1"+b+"$2$3$1"+y+"$2box$3")+e}break;case 5936:switch(I(e,t+11)){case 114:return b+e+y+A(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return b+e+y+A(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return b+e+y+A(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return b+e+y+e+e}return e}var ye,he,be="undefined"!=typeof document,ve=be?void 0:(ye=function(){return ce((function(){var e={};return function(t){return e[t]}}))},he=new WeakMap,function(e){if(he.has(e))return he.get(e);var t=ye();return he.set(e,t),t}),Ee=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case w:e.return=me(e.value,e.length);break;case O:return le([K(e,{value:A(e.value,"@","@"+b)})],r);case E:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return le([K(e,{props:[A(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return le([K(e,{props:[A(t,/:(plac\w+)/,":"+b+"input-$1")]}),K(e,{props:[A(t,/:(plac\w+)/,":-moz-$1")]}),K(e,{props:[A(t,/:(plac\w+)/,y+"input-$1")]})],r)}return""}))}}],we=function(e){var t=e.key;if(be&&"css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,a=e.stylisPlugins||Ee,i={},l=[];be&&(r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;l.push(e)})));var s,u=[pe,ge];if(be){var c,d=[se,(s=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&s(e)})],f=ue(u.concat(a,d));o=function(e,t,n,r){c=n,le(ne(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)}}else{var p=[se],g=ue(u.concat(a,p)),y=ve(a)(t);o=function(e,t,n,r){var o=t.name,a=function(e,t){var n=t.name;return void 0===y[n]&&(y[n]=le(ne(e?e+"{"+t.styles+"}":t.styles),g)),y[n]}(e,t);return void 0===h.compat?(r&&(h.inserted[o]=!0),a):r?void(h.inserted[o]=a):a}}var h={key:t,sheet:new m({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:o};return h.sheet.hydrate(l),h},Oe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Te=/[A-Z]|^ms/g,qe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Se=function(e){return 45===e.charCodeAt(1)},Ce=function(e){return null!=e&&"boolean"!=typeof e},Ae=ce((function(e){return Se(e)?e:e.replace(Te,"-$&").toLowerCase()})),Re=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(qe,(function(e,t,n){return Pe={name:t,styles:n,next:Pe},t}))}return 1===Oe[e]||Se(e)||"number"!=typeof t||0===t?t:t+"px"};function Ie(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Pe={name:n.name,styles:n.styles,next:Pe},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Pe={name:r.name,styles:r.styles,next:Pe},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Ie(e,t,n[o])+";";else for(var a in n){var i=n[a];if("object"!=typeof i)null!=t&&void 0!==t[i]?r+=a+"{"+t[i]+"}":Ce(i)&&(r+=Ae(a)+":"+Re(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Ie(e,t,i);switch(a){case"animation":case"animationName":r+=Ae(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var s=0;s<i.length;s++)Ce(i[s])&&(r+=Ae(a)+":"+Re(a,i[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=Pe,a=n(e);return Pe=o,Ie(e,t,a)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var Pe,_e=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ne=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";Pe=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,o+=Ie(n,t,a)):o+=a[0];for(var i=1;i<e.length;i++)o+=Ie(n,t,e[i]),r&&(o+=a[i]);_e.lastIndex=0;for(var l,s="";null!==(l=_e.exec(o));)s+="-"+l[1];var u=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+s;return{name:u,styles:o,next:Pe}},De="undefined"!=typeof document;function xe(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}function Fe(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function ke(e,t,n){var r=[],o=xe(e,r,n);return r.length<2?n:o+t(r)}var Le=function e(t){for(var n="",r=0;r<t.length;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var i in a="",o)o[i]&&i&&(a&&(a+=" "),a+=i);break;default:a=o}a&&(n&&(n+=" "),n+=a)}}return n},je=function(e){var t=we({key:"css"});t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Ne(n,t.registered,void 0);return function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;(!1===n||!1===De&&void 0!==e.compat)&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o="",a=t;do{var i=e.insert(t===a?"."+r:"",a,e.sheet,!0);De||void 0===i||(o+=i),a=a.next}while(void 0!==a);if(!De&&0!==o.length);}}(t,o,!1),t.key+"-"+o.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return ke(t.registered,n,Le(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Ne(n,t.registered);Fe(t,o)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Ne(n,t.registered),a="animation-"+o.name;return Fe(t,{name:o.name,styles:"@keyframes "+a+"{"+o.styles+"}"}),a},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:xe.bind(null,t.registered),merge:ke.bind(null,t.registered,n)}}(),Me=je.css,Be=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;const We=e=>{var t,n,r,i,s,u,c,f=e,{isARNInstructionsOpen:m,setIsARNInstructionsOpen:y,awsAssumeRoleEnabled:h,currentProvider:b,awsAllowedAuthProviders:v,skipHeader:E,regions:w,assumeRoleInstructionsStyle:O}=f,T=((e,t)=>{var n={};for(var r in e)Ke.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Be)for(var r of Be(e))t.indexOf(r)<0&&Ue.call(e,r)&&(n[r]=e[r]);return n})(f,["isARNInstructionsOpen","setIsARNInstructionsOpen","awsAssumeRoleEnabled","currentProvider","awsAllowedAuthProviders","skipHeader","regions","assumeRoleInstructionsStyle"]);const q=T.options;return d.default.createElement("div",{"data-testid":"connection-config"},d.default.createElement(l.ConfigSection,{title:E?"":"Connection Details","data-testid":"connection-config"},d.default.createElement(l.ConfigSubSection,{title:"Authentication"},d.default.createElement(o.Field,{label:"Authentication Provider",description:"Specify which AWS credentials chain to use.",htmlFor:"authProvider"},d.default.createElement(o.Select,{id:"authProvider","aria-label":"Authentication Provider",value:b,options:g.filter((e=>v.includes(e.value))),defaultValue:q.jsonData.authType,onChange:e=>{a.onUpdateDatasourceJsonDataOptionSelect(T,"authType")(e)},menuShouldPortal:!0})),"credentials"===q.jsonData.authType&&d.default.createElement(o.Field,{label:"Credentials Profile Name",description:"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default.",htmlFor:"credentialsProfileName"},d.default.createElement(o.Input,{id:"credentialsProfileName",placeholder:"default",value:q.jsonData.profile,onChange:a.onUpdateDatasourceJsonDataOption(T,"profile")})),"keys"===q.jsonData.authType&&d.default.createElement(d.default.Fragment,null,d.default.createElement(o.Field,{label:"Access Key ID",htmlFor:"accessKeyId"},(null==(t=T.options.secureJsonFields)?void 0:t.accessKey)?d.default.createElement(o.ButtonGroup,null,d.default.createElement(o.Input,{disabled:!0,placeholder:"Configured",id:"accessKeyId"}),d.default.createElement(o.ToolbarButton,{icon:"edit",tooltip:"Edit Access Key ID",type:"button",onClick:a.onUpdateDatasourceResetOption(T,"accessKey")})):d.default.createElement(o.Input,{id:"accessKeyId",value:null!=(r=null==(n=q.secureJsonData)?void 0:n.accessKey)?r:"",onChange:a.onUpdateDatasourceSecureJsonDataOption(T,"accessKey")})),d.default.createElement(o.Field,{label:"Secret Access Key",htmlFor:"secretKey"},(null==(i=T.options.secureJsonFields)?void 0:i.secretKey)?d.default.createElement(o.ButtonGroup,null,d.default.createElement(o.Input,{disabled:!0,placeholder:"Configured"}),d.default.createElement(o.ToolbarButton,{id:"secretKey",icon:"edit",type:"button",tooltip:"Edit Secret Access Key",onClick:a.onUpdateDatasourceResetOption(T,"secretKey")})):d.default.createElement(o.Input,{id:"secretKey",value:null!=(u=null==(s=q.secureJsonData)?void 0:s.secretKey)?u:"",onChange:a.onUpdateDatasourceSecureJsonDataOption(T,"secretKey")})))),d.default.createElement(l.ConfigSubSection,{title:"Assume Role"},q.jsonData.authType===p.GrafanaAssumeRole&&d.default.createElement("div",{className:O},d.default.createElement(o.Collapse,{label:"How to create an IAM role for grafana to assume:",collapsible:!0,isOpen:m,onToggle:()=>y(!m)},d.default.createElement("ol",null,d.default.createElement("li",null,d.default.createElement("p",null,"1. Create a new IAM role in the AWS console, and select ",d.default.createElement("code",null,"Another AWS account")," as the"," ",d.default.createElement("code",null,"Trusted entity"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"2. Enter the account ID of the Grafana account that has permission to assume this role:",d.default.createElement("code",null," 008923505280 ")," and check the ",d.default.createElement("code",null,"Require external ID")," box.")),d.default.createElement("li",null,d.default.createElement("p",null,"3. Enter the following external ID:"," ",d.default.createElement("code",null,T.externalId||"External Id is currently unavailable")," and click"," ",d.default.createElement("code",null,"Next"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"4. Add any required permissions you would like Grafana to be able to access on your behalf. For more details on our permissions please"," ",d.default.createElement("a",{href:"https://grafana.com/docs/grafana/latest/datasources/aws-cloudwatch/",target:"_blank",rel:"noreferrer"},"read through our documentation"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"5. Give the role a name and description, and click ",d.default.createElement("code",null,"Create role"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"6. Copy the ARN of the role you just created and paste it into the ",d.default.createElement("code",null,"Assume Role ARN")," ","field below."))))),h&&d.default.createElement(d.default.Fragment,null,d.default.createElement(o.Field,{htmlFor:"assumeRoleArn",label:"Assume Role ARN",description:"Optional. Specifying the ARN of a role will ensure that the\n                  selected authentication provider is used to assume the role rather than the\n                  credentials directly."},d.default.createElement(o.Input,{id:"assumeRoleArn",placeholder:"arn:aws:iam:*",value:q.jsonData.assumeRoleArn||"",onChange:a.onUpdateDatasourceJsonDataOption(T,"assumeRoleArn")})),q.jsonData.authType!==p.GrafanaAssumeRole&&d.default.createElement(o.Field,{htmlFor:"externalId",label:"External ID",description:"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here."},d.default.createElement(o.Input,{id:"externalId",placeholder:"External ID",value:q.jsonData.externalId||"",onChange:a.onUpdateDatasourceJsonDataOption(T,"externalId")})))),d.default.createElement(l.ConfigSubSection,{title:"Additional Settings"},!T.skipEndpoint&&q.jsonData.authType!==p.GrafanaAssumeRole&&d.default.createElement(o.Field,{label:"Endpoint",description:"Optionally, specify a custom endpoint for the service",htmlFor:"endpoint"},d.default.createElement(o.Input,{id:"endpoint",placeholder:null!=(c=T.defaultEndpoint)?c:"https://{service}.{region}.amazonaws.com",value:q.jsonData.endpoint||"",onChange:a.onUpdateDatasourceJsonDataOption(T,"endpoint")})),d.default.createElement(o.Field,{label:"Default Region",description:"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region.",htmlFor:"defaultRegion"},d.default.createElement(o.Select,{id:"defaultRegion","aria-label":"Default Region",value:w.find((e=>e.value===q.jsonData.defaultRegion)),options:w,defaultValue:q.jsonData.defaultRegion,allowCustomValue:!0,onChange:a.onUpdateDatasourceJsonDataOptionSelect(T,"defaultRegion"),formatCreateLabel:e=>`Use region: ${e}`,menuShouldPortal:!0}))),T.children))};var Ge=Object.defineProperty,$e=Object.defineProperties,Ve=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,Je=(e,t,n)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ze=(e,t)=>{for(var n in t||(t={}))He.call(t,n)&&Je(e,n,t[n]);if(Ye)for(var n of Ye(t))Qe.call(t,n)&&Je(e,n,t[n]);return e},Xe=(e,t)=>$e(e,Ve(t));const Ze=28,et=["cloudwatch","grafana-athena-datasource"],tt=e=>({value:e,label:e}),nt=e=>"string"==typeof e&&g.some((t=>t.value===e));function rt(){return{assumeRoleInstructions:Me({maxWidth:"715px"})}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const ot="__default";var at=Object.defineProperty,it=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,st=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,dt=(e,t,n)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ft=(e,t)=>{for(var n in t||(t={}))ut.call(t,n)&&dt(e,n,t[n]);if(st)for(var n of st(t))ct.call(t,n)&&dt(e,n,t[n]);return e},pt=(e,t)=>it(e,lt(t));function gt(e){const t=e.dependencies,n=e.onChange,a=r.useRef(e.dependencies),i=r.useRef(!1),l=r.useRef(e.value||e.default||null),[u,c]=r.useState(l.current?[l.current]:[]),[f,p]=r.useState(!1),g=r.useMemo((()=>{const t=[{label:`default (${e.default})`,value:ot,description:"Default value set in the data source"}];return e.value&&e.value!==ot&&t.push({label:e.value,value:e.value}),t}),[e.default,e.value]),[m,y]=r.useState(e.default?g:[]);r.useEffect((()=>{void 0!==e.resources&&c(e.resources)}),[e.resources]),r.useEffect((()=>{const t=e.default?g:[];u.length?(u.forEach((e=>{const n="string"==typeof e?e:e.value;t.find((e=>e.value===n))||("string"==typeof e?t.push({label:e,value:e}):t.push(e))})),y(t)):y([])}),[u,g,e.default]),r.useEffect((()=>{s.isEqual(t,a.current)||(i.current=!1,l.current=null,a.current=t,n(null))}),[t,n]);const h=e=>{n(e),e.value&&(l.current=e.value)},b=async()=>{p(!0);try{await(async()=>{var t;if(!i.current){e.saveOptions&&await e.saveOptions();try{const n=await(null==(t=e.fetch)?void 0:t.call(e))||[];c(n)}finally{i.current=!0}}})()}finally{p(!1)}};return d.default.createElement(d.default.Fragment,null,e.newFormStylingEnabled?d.default.createElement(o.Select,pt(ft({},e),{id:e.id,"aria-label":e.label,options:m,onChange:h,isLoading:f,className:e.className||"min-width-6",onOpenMenu:()=>e.fetch&&b(),menuShouldPortal:!0})):d.default.createElement(o.InlineField,{label:e.label,labelWidth:e.labelWidth,tooltip:e.tooltip,hidden:e.hidden,htmlFor:e.id},d.default.createElement("div",{"data-testid":e["data-testid"],title:e.title},d.default.createElement(o.Select,pt(ft({},e),{id:e.id,"aria-label":e.label,options:m,onChange:h,isLoading:f,className:e.className||"min-width-6",onOpenMenu:()=>e.fetch&&b(),menuShouldPortal:!0})))))}var mt=Object.defineProperty,yt=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,vt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty),wt=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Ct=(e,t,n)=>t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var At=Object.defineProperty,Rt=Object.defineProperties,It=Object.getOwnPropertyDescriptors,Pt=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Dt=(e,t,n)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function xt(e){return"string"==typeof e||"number"==typeof e?e:e.map((e=>function(e){return"'"+String(e).replace(/'/g,"''")+"'"}(e))).join(",")}t._e=p,t.B5=function(e){var t,n,r;const{jsonData:o}=e.options,a={title:o.defaultRegion?"":"select a default region",labelWidth:null!=(t=e.labelWidth)?t:Ze,className:"width-30"},i=[e.options.jsonData.assumeRoleArn,e.options.jsonData.authType,e.options.jsonData.defaultRegion,e.options.jsonData.endpoint,e.options.jsonData.externalId,e.options.jsonData.profile,null==(n=e.options.secureJsonData)?void 0:n.accessKey,null==(r=e.options.secureJsonData)?void 0:r.secretKey].concat(e.dependencies);return d.default.createElement(gt,((e,t)=>{for(var n in t||(t={}))ht.call(t,n)&&vt(e,n,t[n]);if(yt)for(var n of yt(t))bt.call(t,n)&&vt(e,n,t[n]);return e})({id:e.id,newFormStylingEnabled:e.newFormStylingEnabled,label:e.label,"data-testid":e["data-testid"],onChange:e.onChange,fetch:e.fetch,value:e.value,saveOptions:e.saveOptions,dependencies:i,hidden:e.hidden,disabled:e.disabled||!o.defaultRegion,allowCustomValue:e.allowCustomValue,autoFocus:e.autoFocus,backspaceRemovesValue:e.backspaceRemovesValue,invalid:e.invalid,isClearable:e.isClearable,isMulti:e.isMulti,inputId:e.inputId,showAllSelectedWhenOpen:e.showAllSelectedWhenOpen,maxMenuHeight:e.maxMenuHeight,minMenuHeight:e.minMenuHeight,maxVisibleValues:e.maxVisibleValues,menuPlacement:e.menuPlacement,menuPosition:e.menuPosition,noOptionsMessage:e.noOptionsMessage,onBlur:e.onBlur,onCreateOption:e.onCreateOption,onInputChange:e.onInputChange,placeholder:e.placeholder,width:e.width,isOptionDisabled:e.isOptionDisabled},a))},t.mO=e=>{var t,n,l,s,u,c,m,y;const[h,b]=r.useState(!1),[v,E]=r.useState((e.standardRegions||f).map(tt)),{loadRegions:w,onOptionsChange:O,skipHeader:T=!1,skipEndpoint:q=!1}=e,{labelWidth:S=Ze,options:C,inExperimentalAuthComponent:A}=e;let R=C.jsonData.profile;void 0===R&&(R=C.database);const I=i.config.featureToggles.awsDatasourcesTempCredentials&&et.includes(C.type),P=null==(t=i.config.awsAssumeRoleEnabled)||t,_=r.useMemo((()=>i.config.awsAllowedAuthProviders.filter((e=>e!==p.GrafanaAssumeRole||I)).filter(nt)),[I]),N=g.find((e=>e.value===C.jsonData.authType));r.useEffect((()=>{!N&&_.length&&O(Xe(ze({},C),{jsonData:Xe(ze({},C.jsonData),{authType:_[0]})}))}),[N,C,O,_]),r.useEffect((()=>{w&&w().then((e=>E(e.map(tt))))}),[w]);const D=A?"width-20":"width-30",x=o.useStyles2(rt);return d.default.createElement(d.default.Fragment,null,e.newFormStylingEnabled?d.default.createElement(We,ze({currentProvider:N,awsAllowedAuthProviders:_,isARNInstructionsOpen:h,setIsARNInstructionsOpen:b,awsAssumeRoleEnabled:P,regions:v,assumeRoleInstructionsStyle:x.assumeRoleInstructions},e)):d.default.createElement(o.FieldSet,{label:T?"":"Connection Details","data-testid":"connection-config"},d.default.createElement(o.InlineField,{label:"Authentication Provider",labelWidth:S,tooltip:"Specify which AWS credentials chain to use."},d.default.createElement(o.Select,{"aria-label":"Authentication Provider",className:D,value:N,options:g.filter((e=>_.includes(e.value))),defaultValue:C.jsonData.authType,onChange:t=>{a.onUpdateDatasourceJsonDataOptionSelect(e,"authType")(t)},menuShouldPortal:!0})),"credentials"===C.jsonData.authType&&d.default.createElement(o.InlineField,{label:"Credentials Profile Name",labelWidth:S,tooltip:"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default."},d.default.createElement(o.Input,{"aria-label":"Credentials Profile Name",className:D,placeholder:"default",value:R,onChange:a.onUpdateDatasourceJsonDataOption(e,"profile")})),"keys"===C.jsonData.authType&&d.default.createElement(d.default.Fragment,null,d.default.createElement(o.InlineField,{label:"Access Key ID",labelWidth:S},(null==(n=e.options.secureJsonFields)?void 0:n.accessKey)?d.default.createElement(o.ButtonGroup,{className:D},d.default.createElement(o.Input,{disabled:!0,placeholder:"Configured"}),d.default.createElement(o.ToolbarButton,{icon:"edit",tooltip:"Edit Access Key ID",type:"button",onClick:a.onUpdateDatasourceResetOption(e,"accessKey")})):d.default.createElement(o.Input,{"aria-label":"Access Key ID",className:D,value:null!=(s=null==(l=C.secureJsonData)?void 0:l.accessKey)?s:"",onChange:a.onUpdateDatasourceSecureJsonDataOption(e,"accessKey")})),d.default.createElement(o.InlineField,{label:"Secret Access Key",labelWidth:S},(null==(u=e.options.secureJsonFields)?void 0:u.secretKey)?d.default.createElement(o.ButtonGroup,{className:D},d.default.createElement(o.Input,{disabled:!0,placeholder:"Configured"}),d.default.createElement(o.ToolbarButton,{icon:"edit",type:"button",tooltip:"Edit Secret Access Key",onClick:a.onUpdateDatasourceResetOption(e,"secretKey")})):d.default.createElement(o.Input,{"aria-label":"Secret Access Key",className:D,value:null!=(m=null==(c=C.secureJsonData)?void 0:c.secretKey)?m:"",onChange:a.onUpdateDatasourceSecureJsonDataOption(e,"secretKey")}))),C.jsonData.authType===p.GrafanaAssumeRole&&d.default.createElement("div",{className:x.assumeRoleInstructions},d.default.createElement(o.Collapse,{label:"How to create an IAM role for grafana to assume:",collapsible:!0,isOpen:h,onToggle:()=>b(!h)},d.default.createElement("ol",null,d.default.createElement("li",null,d.default.createElement("p",null,"1. Create a new IAM role in the AWS console, and select ",d.default.createElement("code",null,"Another AWS account")," as the"," ",d.default.createElement("code",null,"Trusted entity"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"2. Enter the account ID of the Grafana account that has permission to assume this role:",d.default.createElement("code",null," 008923505280 ")," and check the ",d.default.createElement("code",null,"Require external ID")," box.")),d.default.createElement("li",null,d.default.createElement("p",null,"3. Enter the following external ID:"," ",d.default.createElement("code",null,e.externalId||"External Id is currently unavailable")," and click"," ",d.default.createElement("code",null,"Next"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"4. Add any required permissions you would like Grafana to be able to access on your behalf. For more details on our permissions please"," ",d.default.createElement("a",{href:"https://grafana.com/docs/grafana/latest/datasources/aws-cloudwatch/",target:"_blank",rel:"noreferrer"},"read through our documentation"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"5. Give the role a name and description, and click ",d.default.createElement("code",null,"Create role"),".")),d.default.createElement("li",null,d.default.createElement("p",null,"6. Copy the ARN of the role you just created and paste it into the ",d.default.createElement("code",null,"Assume Role ARN")," ","field below."))))),P&&d.default.createElement(d.default.Fragment,null,d.default.createElement(o.InlineField,{label:"Assume Role ARN",labelWidth:S,tooltip:"Optionally, specify the ARN of a role to assume. Specifying a role here will ensure that the selected authentication provider is used to assume the specified role rather than using the credentials directly. Leave blank if you don't need to assume a role at all"},d.default.createElement(o.Input,{"aria-label":"Assume Role ARN",className:D,placeholder:"arn:aws:iam:*",value:C.jsonData.assumeRoleArn||"",onChange:a.onUpdateDatasourceJsonDataOption(e,"assumeRoleArn")})),C.jsonData.authType!==p.GrafanaAssumeRole&&d.default.createElement(o.InlineField,{label:"External ID",labelWidth:S,tooltip:"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here."},d.default.createElement(o.Input,{"aria-label":"External ID",className:D,placeholder:"External ID",value:C.jsonData.externalId||"",onChange:a.onUpdateDatasourceJsonDataOption(e,"externalId")}))),!q&&C.jsonData.authType!==p.GrafanaAssumeRole&&d.default.createElement(o.InlineField,{label:"Endpoint",labelWidth:S,tooltip:"Optionally, specify a custom endpoint for the service"},d.default.createElement(o.Input,{"aria-label":"Endpoint",className:D,placeholder:null!=(y=e.defaultEndpoint)?y:"https://{service}.{region}.amazonaws.com",value:C.jsonData.endpoint||"",onChange:a.onUpdateDatasourceJsonDataOption(e,"endpoint")})),d.default.createElement(o.InlineField,{label:"Default Region",labelWidth:S,tooltip:"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region."},d.default.createElement(o.Select,{"aria-label":"Default Region",className:D,value:v.find((e=>e.value===C.jsonData.defaultRegion)),options:v,defaultValue:C.jsonData.defaultRegion,allowCustomValue:!0,onChange:a.onUpdateDatasourceJsonDataOptionSelect(e,"defaultRegion"),formatCreateLabel:e=>`Use region: ${e}`,menuShouldPortal:!0})),e.children))},t.iz=function(){const e=o.useTheme2();return d.default.createElement("div",{style:{borderTop:`1px solid ${e.colors.border.weak}`,margin:e.spacing(2,0),width:"100%"}})},t.vZ=function(e){var t;const n=t=>{var n,r,o;e.onChange((r=((e,t)=>{for(var n in t||(t={}))qt.call(t,n)&&Ct(e,n,t[n]);if(Tt)for(var n of Tt(t))St.call(t,n)&&Ct(e,n,t[n]);return e})({},e.query),o={format:t.value||0},wt(r,Ot(o)))),null==(n=e.onRunQuery)||n.call(e)};return d.default.createElement(d.default.Fragment,null,e.newFormStylingEnabled?d.default.createElement(o.Select,{"aria-label":"Format data frames as",id:null!=(t=e.id)?t:"formatAs",options:e.options,value:e.query.format,onChange:n,menuShouldPortal:!0}):d.default.createElement(o.InlineField,{label:"Format as",labelWidth:11},d.default.createElement(o.Select,{"aria-label":"Format as",options:e.options,value:e.query.format,onChange:n,className:"width-12",menuShouldPortal:!0})))},t.ZQ=function(e){var t;return d.default.createElement(o.InlineField,{label:e.label,labelWidth:null!=(t=e.labelWidth)?t:Ze,tooltip:e.tooltip,hidden:e.hidden,disabled:e.disabled},d.default.createElement(o.Input,{"data-testid":e["data-testid"],className:"width-30",value:e.value,onChange:e.onChange,placeholder:e.placeholder,disabled:e.disabled}))},t.xZ=function({query:e,showAsyncQueryButtons:t,extraHeaderElementLeft:n,extraHeaderElementRight:r,enableRunButton:i,onRunQuery:s,data:c,cancel:f}){return d.default.createElement(l.EditorHeader,null,n,d.default.createElement(l.FlexItem,{grow:1}),t?d.default.createElement(u.RunQueryButtons,{onRunQuery:s,enableRun:i,query:e,onCancelQuery:f,state:null==c?void 0:c.state}):d.default.createElement(o.Button,{variant:i?"primary":"secondary",size:"sm",onClick:s,icon:(null==c?void 0:c.state)===a.LoadingState.Loading?"fa fa-spinner":void 0,disabled:(null==c?void 0:c.state)===a.LoadingState.Loading||!i},"Run query"),r)},t.Nw=gt,t.B=function(e,t,n){const r=n();return o=((e,t)=>{for(var n in t||(t={}))_t.call(t,n)&&Dt(e,n,t[n]);if(Pt)for(var n of Pt(t))Nt.call(t,n)&&Dt(e,n,t[n]);return e})({},e),a={rawSQL:r.replace(e.rawSQL,t,xt)},Rt(o,It(a));var o,a},t.f5=function(e){return!!e.rawSQL}},843:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(545),o=n(177),a=n(305),i=n(556),l=n(650),s=n(388);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=u(l);function d(e){return"function"==typeof e}var f,p=((f=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),f.prototype.constructor=f,f);function g(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var m=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=i.__values(a),s=l.next();!s.done;s=l.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(d(u))try{u()}catch(e){o=e instanceof p?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var f=i.__values(c),g=f.next();!g.done;g=f.next()){var m=g.value;try{y(m)}catch(e){o=null!=o?o:[],e instanceof p?o=i.__spreadArray(i.__spreadArray([],i.__read(o)),i.__read(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}if(o)throw new p(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)y(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&g(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&g(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function y(e){d(e)?e():e.unsubscribe()}m.EMPTY;var h=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,i.__spreadArray([e,t],i.__read(n)))};function b(){}var v=function(e){function t(t){var n,r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,((n=t)instanceof m||n&&"closed"in n&&d(n.remove)&&d(n.add)&&d(n.unsubscribe))&&t.add(r)):r.destination=T,r}return i.__extends(t,e),t.create=function(e,t,n){return new w(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(m);Function.prototype.bind;var E=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){O(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){O(e)}else O(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){O(e)}},e}(),w=function(e){function t(t,n,r){var o,a=e.call(this)||this;return o=d(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,a.destination=new E(o),a}return i.__extends(t,e),t}(v);function O(e){var t;t=e,h((function(){throw t}))}var T={closed:!0,next:b,error:function(e){throw e},complete:b},q=function(e){function t(t,n,r,o,a,i){var l=e.call(this,t)||this;return l.onFinalize=a,l.shouldUnsubscribe=i,l._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,l._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,l}return i.__extends(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(v);function S(e,t){return n=function(n,r){var o=0;n.subscribe(new q(r,(function(n){r.next(e.call(t,n,o++))}),void 0,void 0,void 0))},function(e){if(function(e){return d(null==e?void 0:e.lift)}(e))return e.lift((function(e){try{return n(e,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")};var n}var C=Object.defineProperty,A=Object.defineProperties,R=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&N(e,n,t[n]);if(I)for(var n of I(t))_.call(t,n)&&N(e,n,t[n]);return e},x=(e,t)=>A(e,R(t)),F=Object.defineProperty,k=Object.defineProperties,L=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))M.call(t,n)&&K(e,n,t[n]);if(j)for(var n of j(t))B.call(t,n)&&K(e,n,t[n]);return e},W=(e,t)=>k(e,L(t));const G=["started","submitted","running"],$=(e="")=>G.includes(e);class V extends r.DataSourceWithBackend{constructor(e,t=!1){super(e),this.runningQueries={},this.requestCounter=100,this.cancel=e=>{this.storeQuery(e,{shouldCancel:!0})},this.asyncQueryDataSupport=t}query(e){if(this.asyncQueryDataSupport){const t=this.filterQuery?e.targets.filter(this.filterQuery):e.targets;if(!t.length)return o.of({data:[]});const n=[];for(let r of t)r.hide||n.push(this.doSingle(r,e));return o.merge(...n)}return super.query(e)}storeQuery(e,t){const n=JSON.stringify(e),r=this.runningQueries[n]||{};this.runningQueries[n]=U(U({},r),t)}getQuery(e){const t=JSON.stringify(e);return this.runningQueries[t]||{}}removeQuery(e){const t=JSON.stringify(e);delete this.runningQueries[t]}doSingle(e,t){let n,i,l=[];return s=W(U({},t),{targets:[e],requestId:"aws_ts_"+this.requestCounter++}),u={getNextQuery:t=>{var r,o;if(null==(r=t.data)?void 0:r.length){const r=null==(o=t.data[0].meta)?void 0:o.custom;if((e=>!("object"!=typeof e||!(null==e?void 0:e.hasOwnProperty("queryID"))||!(null==e?void 0:e.hasOwnProperty("status"))))(r)&&$(r.status))return n=r.queryID,i=r.status,this.storeQuery(e,{queryID:n}),W(U({},e),{queryID:n})}this.removeQuery(e)},query:e=>{const{range:t,targets:n,requestId:o,intervalMs:a,maxDataPoints:l}=e,[s]=n,u=U(U({},s),this.asyncQueryDataSupport?{meta:{queryFlow:"async"}}:{}),c={queries:[U(W(U({},u),{intervalMs:a,maxDataPoints:l,datasource:null==this?void 0:this.getRef(),datasourceId:this.id}),this.applyTemplateVariables(u,e.scopedVars))],range:t,from:t.from.valueOf().toString(),to:t.to.valueOf().toString()};let d={};$(i)&&(d={"X-Cache-Skip":!0});const f={method:"POST",url:"/api/ds/query",data:c,requestId:o,headers:d};return r.getBackendSrv().fetch(f).pipe(S((e=>({data:r.toDataQueryResponse(e).data}))))},process:e=>{for(const t of e)t.fields.length>0&&l.push(t);return l},shouldCancel:()=>{const{shouldCancel:t}=this.getQuery(e);return!!t},onCancel:()=>{n&&(this.removeQuery(e),this.postResource("cancel",{queryId:n}).catch((e=>{e.isHandled=!0,console.error(`error cancelling query ID: ${n}`,e)})))}},new o.Observable((e=>{let t,n,r=a.LoadingState.Loading,o=1,i=1,l=!1;const c={next:n=>{r=n.state;let i=!1;if(r!==a.LoadingState.Error){t=u.getNextQuery(n);const e=u.shouldCancel();t&&e&&(l=e,t=void 0),i=!0}const c=u.process(n.data);i&&(t?(r=c.length&&c[0].length?a.LoadingState.Streaming:a.LoadingState.Loading,o=2*o>10?10:2*o):(r=a.LoadingState.Done,o=0)),e.next(x(D({},n),{data:c,state:r,key:s.requestId}))},error:t=>{e.error(t)},complete:()=>{if(n&&(n.unsubscribe(),n=void 0),t){const e=t;setTimeout((()=>{n=u.query(x(D({},s),{requestId:`${s.requestId}.${++i}`,targets:[e]})).subscribe(c),t=void 0}),1e3*o)}else e.complete()}};return n=u.query(s).subscribe(c),function(){c.complete(),(t||l)&&u.onCancel(),t=void 0}}));var s,u}}t.DatasourceWithAsyncBackend=V,t.RunQueryButtons=e=>{const{state:t}=e,[n,r]=l.useState(!1),[o,i]=l.useState(!1),[u,d]=l.useState(t),[f,p]=l.useState(e.query);l.useEffect((()=>{t&&u!==t&&t!==a.LoadingState.Loading&&(r(!1),i(!1)),d(t)}),[t,u]);const g=e.onCancelQuery?()=>{var t;null==(t=e.onCancelQuery)||t.call(e,f),i(!0)}:void 0;return c.default.createElement(c.default.Fragment,null,c.default.createElement(s.Button,{variant:e.enableRun?"primary":"secondary",size:"sm",onClick:()=>{r(!0),p(e.query),e.onRunQuery()},icon:n&&!o?"fa fa-spinner":void 0,disabled:t===a.LoadingState.Loading||!e.enableRun},"Run query"),g&&c.default.createElement(s.Button,{variant:n&&!o?"primary":"secondary",size:"sm",disabled:!n||o,icon:o?"fa fa-spinner":void 0,onClick:g},"Stop query"))}},622:(e,t,n)=>{n.d(t,{K:()=>p});var r=n(650),o=n.n(r),a=n(720),i=Object.defineProperty,l=Object.defineProperties,s=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=e=>{var t,n=e,{children:r}=n,i=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(n,["children"]);return o().createElement(a.R,(t=((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&f(e,n,t[n]);if(u)for(var n of u(t))d.call(t,n)&&f(e,n,t[n]);return e})({},i),l(t,s({kind:"section"}))),r)}},720:(e,t,n)=>{n.d(t,{R:()=>m});var r=n(650),o=n.n(r),a=n(644),i=n(388),l=Object.defineProperty,s=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(c)for(var n of c(t))f.call(t,n)&&p(e,n,t[n]);return e};const m=({children:e,title:t,description:n,isCollapsible:l=!1,isInitiallyOpen:c=!0,kind:d="section",className:f})=>{const{colors:p,typography:m,spacing:y}=(0,i.useTheme2)(),[h,b]=(0,r.useState)(!l||c),v=h?"angle-up":"angle-down",E="sub-section"===d,w=`${h?"Collapse":"Expand"} section ${t}`,O={header:(0,a.css)({display:"flex",justifyContent:"space-between",alignItems:"center"}),title:(0,a.css)({margin:0}),subtitle:(0,a.css)({margin:0,fontWeight:m.fontWeightRegular}),descriptionText:(0,a.css)((T=g({marginTop:y(E?.25:.5),marginBottom:0},m.bodySmall),q={color:p.text.secondary},s(T,u(q)))),content:(0,a.css)({marginTop:y(2)})};var T,q;return o().createElement("div",{className:f},o().createElement("div",{className:O.header},"section"===d?o().createElement("h3",{className:O.title},t):o().createElement("h6",{className:O.subtitle},t),l&&o().createElement(i.IconButton,{name:v,onClick:()=>b(!h),type:"button",size:"xl","aria-label":w})),n&&o().createElement("p",{className:O.descriptionText},n),h&&o().createElement("div",{className:O.content},e))}},844:(e,t,n)=>{n.d(t,{S:()=>p});var r=n(644),o=n(650),a=n.n(o),i=n(327),l=n(388),s=Object.defineProperty,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=e=>{var t;const n=e,{label:r,optional:s,tooltip:p,tooltipInteractive:m,children:y,width:h}=n,b=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(n,["label","optional","tooltip","tooltipInteractive","children","width"]),v=(0,l.useStyles2)((0,o.useCallback)((e=>g(e,h)),[h])),E=(null==b?void 0:b.htmlFor)||(null==(t=l.ReactUtils)?void 0:t.getChildId(y)),w=a().createElement(a().Fragment,null,a().createElement("label",{className:v.label,htmlFor:E},r,s&&a().createElement("span",{className:v.optional}," - optional"),p&&a().createElement(l.Tooltip,{placement:"top",content:p,theme:"info",interactive:m},a().createElement(l.Icon,{tabIndex:0,name:"info-circle",size:"sm",className:v.icon}))),a().createElement(i.T,{v:.5}));return a().createElement("div",{className:v.root},a().createElement(l.Field,((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&f(e,n,t[n]);if(u)for(var n of u(t))d.call(t,n)&&f(e,n,t[n]);return e})({className:v.field,label:w},b),y))},g=(e,t)=>({root:(0,r.css)({minWidth:e.spacing(null!=t?t:0)}),label:(0,r.css)({fontSize:12,fontWeight:e.typography.fontWeightMedium}),optional:(0,r.css)({fontStyle:"italic",color:e.colors.text.secondary}),field:(0,r.css)({marginBottom:0}),icon:(0,r.css)({color:e.colors.text.secondary,marginLeft:e.spacing(1),":hover":{color:e.colors.text.primary}})})},489:(e,t,n)=>{n.d(t,{s:()=>i});var r=n(650),o=n.n(r),a=n(233);const i=({children:e})=>o().createElement(a.K,{gap:1},e)},888:(e,t,n)=>{n.d(t,{p:()=>s});var r=n(644),o=n(650),a=n.n(o),i=n(233),l=n(388);const s=({children:e})=>{const t=(0,l.useStyles2)(u);return a().createElement("div",{className:t.root},a().createElement(i.K,{gap:2},e))},u=e=>({root:(0,r.css)({padding:e.spacing(1),backgroundColor:e.colors.background.secondary,borderRadius:e.shape.borderRadius(1)})})},544:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(650),o=n.n(r),a=n(233);const i=({children:e})=>o().createElement(a.K,{gap:.5,direction:"column"},e)},327:(e,t,n)=>{n.d(t,{T:()=>l});var r=n(644),o=n(650),a=n.n(o),i=n(388);const l=e=>{const t=(0,i.useStyles2)((0,o.useCallback)((t=>s(t,e)),[e]));return a().createElement("span",{className:(0,r.cx)(t.wrapper)})};l.defaultProps={v:0,h:0,layout:"block"};const s=(e,t)=>{var n,o;return{wrapper:(0,r.css)([{paddingRight:e.spacing(null!=(n=t.h)?n:0),paddingBottom:e.spacing(null!=(o=t.v)?o:0)},"inline"===t.layout&&{display:"inline-block"},"block"===t.layout&&{display:"block"}])}}},233:(e,t,n)=>{n.d(t,{K:()=>c});var r=n(644),o=n(650),a=n.n(o),i=n(388),l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;const c=e=>{var t=e,{children:n}=t,r=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);const c=(0,i.useStyles2)((0,o.useCallback)((e=>d(e,r)),[r]));return a().createElement("div",{className:c.root},n)},d=(e,t)=>{var n,o,a;return{root:(0,r.css)({display:"flex",flexDirection:null!=(n=t.direction)?n:"row",flexWrap:null==(o=t.wrap)||o?"wrap":void 0,alignItems:t.alignItems,gap:e.spacing(null!=(a=t.gap)?a:2),flexGrow:t.flexGrow})}}},746:(e,t,n)=>{n.r(t),n.d(t,{AccessoryButton:()=>Oe,AdvancedHttpSettings:()=>Ir,Auth:()=>Hn,AuthMethod:()=>Ft,CompletionItemInsertTextRule:()=>ce.a7,CompletionItemKind:()=>ce.cm,CompletionItemPriority:()=>ce.G8,ConfigSection:()=>pt.K,ConfigSubSection:()=>Ot,ConnectionSettings:()=>vr,DataSourceDescription:()=>ft,EditorField:()=>Ae.S,EditorFieldGroup:()=>qe.s,EditorHeader:()=>Se,EditorList:()=>Pe,EditorMode:()=>ce.je,EditorRow:()=>Re.p,EditorRows:()=>_e._,EditorSwitch:()=>Le,FlexItem:()=>Me,InlineSelect:()=>Je,InputGroup:()=>et,LinkedToken:()=>le.U,MacroType:()=>ce.mB,OperatorType:()=>ce.$M,SQLEditor:()=>H.i,SQLEditorTestUtils:()=>ie,Space:()=>rt.T,Stack:()=>Ie.K,StatementPosition:()=>ce.fC,SuggestionKind:()=>ce.is,TokenType:()=>ce.iv,convertLegacyAuthProps:()=>ir,getStandardSQLCompletionProvider:()=>ue.h,grafanaStandardSQLLanguage:()=>se.language,grafanaStandardSQLLanguageConf:()=>se.conf,llms:()=>o});var r={};n.r(r),n.d(r,{accumulateContent:()=>W,chatCompletions:()=>G,enabled:()=>Y,extractContent:()=>U,isContentMessage:()=>B,isDoneMessage:()=>K,streamChatCompletions:()=>$});var o={};n.r(o),n.d(o,{openai:()=>r});var a={};n.r(a),n.d(a,{multiLineFullQuery:()=>z,multiLineFullQueryWithAggregation:()=>X,multiLineMultipleColumns:()=>re,singleLineEmptyQuery:()=>Z,singleLineFullQuery:()=>Q,singleLineFullQueryWithAggregation:()=>J,singleLineMultipleColumns:()=>ne,singleLineTwoQueries:()=>ee,singleLineTwoQueriesWithAggregation:()=>te});var i=n(305),l=n(545),s=n(177);function u(e){return"function"==typeof e}function c(e){return function(t){if(function(e){return u(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var d,f=n(556),p=((d=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),d.prototype.constructor=d,d);function g(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var m=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var i=(0,f.__values)(a),l=i.next();!l.done;l=i.next())l.value.remove(this)}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else a.remove(this);var s=this.initialTeardown;if(u(s))try{s()}catch(e){o=e instanceof p?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var d=(0,f.__values)(c),g=d.next();!g.done;g=d.next()){var m=g.value;try{y(m)}catch(e){o=null!=o?o:[],e instanceof p?o=(0,f.__spreadArray)((0,f.__spreadArray)([],(0,f.__read)(o)),(0,f.__read)(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}if(o)throw new p(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)y(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&g(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&g(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function y(e){u(e)?e():e.unsubscribe()}m.EMPTY;var h=null,b=null,v=!1,E=!1,w={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=w.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,f.__spreadArray)([e,t],(0,f.__read)(n))):setTimeout.apply(void 0,(0,f.__spreadArray)([e,t],(0,f.__read)(n)))},clearTimeout:function(e){var t=w.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function O(){}var T=q("C",void 0,void 0);function q(e,t,n){return{kind:e,value:t,error:n}}var S=function(e){function t(t){var n,r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,((n=t)instanceof m||n&&"closed"in n&&u(n.remove)&&u(n.add)&&u(n.unsubscribe))&&t.add(r)):r.destination=N,r}return(0,f.__extends)(t,e),t.create=function(e,t,n){return new I(e,t,n)},t.prototype.next=function(e){this.isStopped?_(function(e){return q("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?_(q("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?_(T,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(m),C=Function.prototype.bind;function A(e,t){return C.call(e,t)}var R=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){P(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){P(e)}else P(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){P(e)}},e}(),I=function(e){function t(t,n,r){var o,a,i=e.call(this)||this;return u(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:i&&E?((a=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},o={next:t.next&&A(t.next,a),error:t.error&&A(t.error,a),complete:t.complete&&A(t.complete,a)}):o=t,i.destination=new R(o),i}return(0,f.__extends)(t,e),t}(S);function P(e){v||function(e){w.setTimeout((function(){if(!h)throw e;h(e)}))}(e)}function _(e,t){var n=b;n&&w.setTimeout((function(){return n(e,t)}))}var N={closed:!0,next:O,error:function(e){throw e},complete:O};function D(e,t,n,r,o){return new x(e,t,n,r,o)}var x=function(e){function t(t,n,r,o,a,i){var l=e.call(this,t)||this;return l.onFinalize=a,l.shouldUnsubscribe=i,l._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,l._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,l}return(0,f.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(S);function F(e,t){return c((function(n,r){var o=0;n.subscribe(D(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function k(e,t){return c((function(n,r){var o=0;n.subscribe(D(r,(function(n){r.next(e.call(t,n,o++))})))}))}const L="grafana-llm-app",j=`/api/plugins/${L}`,M="openai/v1/chat/completions";function B(e){return null!=e.content}function K(e){return void 0!==e.done}function U(){return(0,s.pipe)(F((e=>B(e.choices[0].delta))),k((e=>e.choices[0].delta.content)))}function W(){return(0,s.pipe)(U(),function(e,t){return c(function(e,t,n,r,o){return function(r,o){var a=n,i=t,l=0;r.subscribe(D(o,(function(t){var n=l++;i=a?e(i,t,n):(a=!0,t),o.next(i)}),void 0))}}(e,t,arguments.length>=2))}(((e,t)=>e+t),""))}async function G(e){return await(0,l.getBackendSrv)().post("/api/plugins/grafana-llm-app/resources/openai/v1/chat/completions",e,{headers:{"Content-Type":"application/json"}})}function $(e){const t={scope:i.LiveChannelScope.Plugin,namespace:L,path:M,data:e};return(0,l.getGrafanaLiveSrv)().getStream(t).pipe(F((e=>(0,i.isLiveChannelMessageEvent)(e)))).pipe((n=e=>!K(e.message.choices[0].delta),void 0===r&&(r=!1),c((function(e,t){e.subscribe(D(t,(function(e){var o=n(e,0);(o||r)&&t.next(e),!o&&t.complete()})))}))),k((e=>e.message)));var n,r}let V=!1;const Y=async()=>{var e,t;try{const n=await(0,l.getBackendSrv)().get(`${j}/settings`,void 0,void 0,{showSuccessAlert:!1,showErrorAlert:!1});return n.enabled&&null!=(t=null==(e=null==n?void 0:n.secureJsonFields)?void 0:e.openAIKey)&&t}catch(e){return V||((0,l.logDebug)(String(e)),(0,l.logDebug)("Failed to check if OpenAI is enabled. This is expected if the Grafana LLM plugin is not installed, and the above error can be ignored."),V=!0),!1}};var H=n(565);const Q={query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"}]]},J={query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"}]]},z={query:'SELECT column1,\n  FROM table1\n\n  WHERE column1 = "value1"\n  GROUP BY column1 ORDER BY column1 DESC\n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]},X={query:'SELECT count(column1),\n  FROM table1\n\n  WHERE column1 = "value1"\n  GROUP BY column1 ORDER BY column1 DESC\n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]},Z={query:"",tokens:[]},ee={query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT column2, FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"},{offset:101,type:"white.sql",language:"sql"},{offset:102,type:"keyword.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"identifier.sql",language:"sql"},{offset:116,type:"delimiter.sql",language:"sql"},{offset:117,type:"white.sql",language:"sql"},{offset:118,type:"keyword.sql",language:"sql"},{offset:122,type:"white.sql",language:"sql"},{offset:123,type:"identifier.sql",language:"sql"},{offset:129,type:"white.sql",language:"sql"},{offset:130,type:"keyword.sql",language:"sql"},{offset:135,type:"white.sql",language:"sql"},{offset:136,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"operator.sql",language:"sql"},{offset:145,type:"white.sql",language:"sql"},{offset:146,type:"identifier.quote.sql",language:"sql"},{offset:147,type:"identifier.sql",language:"sql"},{offset:153,type:"identifier.quote.sql",language:"sql"},{offset:154,type:"white.sql",language:"sql"},{offset:155,type:"keyword.sql",language:"sql"},{offset:160,type:"white.sql",language:"sql"},{offset:161,type:"keyword.sql",language:"sql"},{offset:163,type:"white.sql",language:"sql"},{offset:164,type:"identifier.sql",language:"sql"},{offset:171,type:"white.sql",language:"sql"},{offset:172,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"keyword.sql",language:"sql"},{offset:180,type:"white.sql",language:"sql"},{offset:181,type:"identifier.sql",language:"sql"},{offset:188,type:"white.sql",language:"sql"},{offset:189,type:"keyword.sql",language:"sql"},{offset:193,type:"white.sql",language:"sql"},{offset:194,type:"keyword.sql",language:"sql"},{offset:199,type:"white.sql",language:"sql"},{offset:200,type:"number.sql",language:"sql"},{offset:202,type:"delimiter.sql",language:"sql"}]]},te={query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT count(column2), FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"keyword.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"predefined.sql",language:"sql"},{offset:121,type:"delimiter.parenthesis.sql",language:"sql"},{offset:122,type:"identifier.sql",language:"sql"},{offset:129,type:"delimiter.parenthesis.sql",language:"sql"},{offset:130,type:"delimiter.sql",language:"sql"},{offset:131,type:"white.sql",language:"sql"},{offset:132,type:"keyword.sql",language:"sql"},{offset:136,type:"white.sql",language:"sql"},{offset:137,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"keyword.sql",language:"sql"},{offset:149,type:"white.sql",language:"sql"},{offset:150,type:"identifier.sql",language:"sql"},{offset:157,type:"white.sql",language:"sql"},{offset:158,type:"operator.sql",language:"sql"},{offset:159,type:"white.sql",language:"sql"},{offset:160,type:"identifier.quote.sql",language:"sql"},{offset:161,type:"identifier.sql",language:"sql"},{offset:167,type:"identifier.quote.sql",language:"sql"},{offset:168,type:"white.sql",language:"sql"},{offset:169,type:"keyword.sql",language:"sql"},{offset:174,type:"white.sql",language:"sql"},{offset:175,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"identifier.sql",language:"sql"},{offset:185,type:"white.sql",language:"sql"},{offset:186,type:"keyword.sql",language:"sql"},{offset:191,type:"white.sql",language:"sql"},{offset:192,type:"keyword.sql",language:"sql"},{offset:194,type:"white.sql",language:"sql"},{offset:195,type:"identifier.sql",language:"sql"},{offset:202,type:"white.sql",language:"sql"},{offset:203,type:"keyword.sql",language:"sql"},{offset:207,type:"white.sql",language:"sql"},{offset:208,type:"keyword.sql",language:"sql"},{offset:213,type:"white.sql",language:"sql"},{offset:214,type:"number.sql",language:"sql"},{offset:216,type:"delimiter.sql",language:"sql"}]]},ne={query:'SELECT count(column1), column2 FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1, avg(column2) DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"},{offset:31,type:"keyword.sql",language:"sql"},{offset:35,type:"white.sql",language:"sql"},{offset:36,type:"identifier.sql",language:"sql"},{offset:42,type:"white.sql",language:"sql"},{offset:43,type:"keyword.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"identifier.sql",language:"sql"},{offset:56,type:"white.sql",language:"sql"},{offset:57,type:"operator.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"identifier.quote.sql",language:"sql"},{offset:60,type:"identifier.sql",language:"sql"},{offset:66,type:"identifier.quote.sql",language:"sql"},{offset:67,type:"white.sql",language:"sql"},{offset:68,type:"keyword.sql",language:"sql"},{offset:73,type:"white.sql",language:"sql"},{offset:74,type:"keyword.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"identifier.sql",language:"sql"},{offset:84,type:"white.sql",language:"sql"},{offset:85,type:"keyword.sql",language:"sql"},{offset:90,type:"white.sql",language:"sql"},{offset:91,type:"keyword.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"identifier.sql",language:"sql"},{offset:101,type:"delimiter.sql",language:"sql"},{offset:102,type:"white.sql",language:"sql"},{offset:103,type:"predefined.sql",language:"sql"},{offset:106,type:"delimiter.parenthesis.sql",language:"sql"},{offset:107,type:"identifier.sql",language:"sql"},{offset:114,type:"delimiter.parenthesis.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"keyword.sql",language:"sql"},{offset:120,type:"white.sql",language:"sql"},{offset:121,type:"keyword.sql",language:"sql"},{offset:126,type:"white.sql",language:"sql"},{offset:127,type:"number.sql",language:"sql"},{offset:129,type:"delimiter.sql",language:"sql"}]]},re={query:'SELECT count(column1), column2\n  FROM table1\n\n  WHERE column1 = "value1"\n  GROUP BY column1 ORDER BY column1, avg(column2) DESC\n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"delimiter.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"predefined.sql",language:"sql"},{offset:38,type:"delimiter.parenthesis.sql",language:"sql"},{offset:39,type:"identifier.sql",language:"sql"},{offset:46,type:"delimiter.parenthesis.sql",language:"sql"},{offset:47,type:"white.sql",language:"sql"},{offset:48,type:"keyword.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]};var oe=n(143),ae=n(190);const ie={testData:a,testStatementPosition:(e,t,n)=>{describe(`${e}`,(()=>{let r,o;beforeEach((()=>{const e=new Map;var a;t.forEach((t=>e.set(t.query.query,t.query.tokens))),a=e,r={editor:{tokenize:(e,t)=>a.get(e)},Range:{containsPosition:(e,t)=>t.lineNumber>=e.startLineNumber&&t.lineNumber<=e.endLineNumber&&t.column>=e.startColumn&&t.column<=e.endColumn},languages:{CompletionItemKind:{Snippet:2,Function:1,Keyword:3},CompletionItemInsertTextRule:{InsertAsSnippet:2}}},o=new i.Registry((()=>n().map((e=>({id:e.id,name:e.name||e.id,resolve:e.resolve})))))})),t.forEach((t=>{test(`${t.query.query}`,(()=>{!function(e,t,n,r,o){const a=(i=e,{getValue:function(e,t){return i},getValueInRange:function(e,t){return i.split("\n")[e.startLineNumber-1].trim().slice(0===e.startColumn?0:e.startColumn-1,e.endColumn-1)},getLineLength:function(e){return i.split("\n")[e-1].trim().length}});var i;const l=(0,ae.E)(r,a,t),s=(0,oe.r)(l,o);expect(s).toContain(n)}(t.query.query,{lineNumber:t.position.line,column:t.position.column},e,r,o)}))}))}))}};var le=n(268),se=n(941),ue=n(76),ce=n(172),de=n(644),fe=n(388),pe=n(650),ge=n.n(pe),me=Object.defineProperty,ye=Object.defineProperties,he=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,we=(e,t,n)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Oe=e=>{var t=e,{className:n}=t,r=((e,t)=>{var n={};for(var r in e)ve.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&be)for(var r of be(e))t.indexOf(r)<0&&Ee.call(e,r)&&(n[r]=e[r]);return n})(t,["className"]);const o=(0,fe.useStyles2)(Te);return ge().createElement(fe.Button,(a=((e,t)=>{for(var n in t||(t={}))ve.call(t,n)&&we(e,n,t[n]);if(be)for(var n of be(t))Ee.call(t,n)&&we(e,n,t[n]);return e})({},r),i={className:(0,de.cx)(n,o.button)},ye(a,he(i))));var a,i},Te=e=>({button:(0,de.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)})});var qe=n(489);const Se=({children:e})=>{const t=(0,fe.useStyles2)(Ce);return ge().createElement("div",{className:t.root},e)},Ce=e=>({root:(0,de.css)({display:"flex",flexWrap:"wrap",alignItems:"center",gap:e.spacing(3),minHeight:e.spacing(4)})});var Ae=n(844),Re=n(888),Ie=n(233);const Pe=ge().forwardRef((function({items:e,renderItem:t,onChange:n},r){return ge().createElement(Ie.K,null,e.map(((r,o)=>ge().createElement("div",{key:o},t(r,(t=>((t,r)=>{const o=[...e];o[t]=r,n(o)})(o,t)),(()=>(t=>{const r=[...e];r.splice(t,1),n(r)})(o)))))),ge().createElement(fe.Button,{ref:r,onClick:()=>{const t=[...e,{}];n(t)},variant:"secondary",size:"md",icon:"plus","aria-label":"Add",type:"button"}))}));var _e=n(544),Ne=Object.defineProperty,De=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,ke=(e,t,n)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Le=e=>{const t=je();return ge().createElement("div",{className:t.switch},ge().createElement(fe.Switch,((e,t)=>{for(var n in t||(t={}))xe.call(t,n)&&ke(e,n,t[n]);if(De)for(var n of De(t))Fe.call(t,n)&&ke(e,n,t[n]);return e})({},e)))},je=()=>({switch:(0,de.css)({display:"flex",alignItems:"center",minHeight:30})}),Me=({grow:e,shrink:t})=>ge().createElement("div",{style:{display:"block",flexGrow:e,flexShrink:t}});var Be=Object.defineProperty,Ke=Object.defineProperties,Ue=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Ve=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t)=>{for(var n in t||(t={}))Ge.call(t,n)&&Ve(e,n,t[n]);if(We)for(var n of We(t))$e.call(t,n)&&Ve(e,n,t[n]);return e},He=(e,t)=>Ke(e,Ue(t)),Qe=(e,t)=>{var n={};for(var r in e)Ge.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&We)for(var r of We(e))t.indexOf(r)<0&&$e.call(e,r)&&(n[r]=e[r]);return n};function Je(e){var t=e,{label:n}=t,r=Qe(t,["label"]);const o=(0,fe.useStyles2)(Ze),[a]=(0,pe.useState)((()=>Math.random().toString(16).slice(2))),i={SelectContainer:ze,ValueContainer:Xe,SingleValue:Xe};return ge().createElement("div",{className:o.root},n&&ge().createElement("label",{className:o.label,htmlFor:a},n,":"," "),ge().createElement(fe.Select,He(Ye({openMenuOnFocus:!0,inputId:a},r),{components:i})))}const ze=e=>{const{children:t}=e,n=(0,fe.useStyles2)(Ze);return ge().createElement(fe.SelectContainer,He(Ye({},e),{className:(0,de.cx)(e.className,n.container)}),t)},Xe=e=>{const{className:t,children:n}=e,r=(0,fe.useStyles2)(Ze);return ge().createElement("div",{className:(0,de.cx)(t,r.valueContainer)},n)},Ze=e=>({root:(0,de.css)({display:"flex",fontSize:12,alignItems:"center"}),label:(0,de.css)({color:e.colors.text.secondary,whiteSpace:"nowrap"}),container:(0,de.css)({background:"none",borderColor:"transparent"}),valueContainer:(0,de.css)({display:"flex",alignItems:"center",flex:"initial",color:e.colors.text.secondary,fontSize:12})}),et=({children:e})=>{const t=(0,fe.useStyles2)(nt),n=pe.Children.map(e,(e=>(0,pe.isValidElement)(e)&&e.props.invalid?(0,pe.cloneElement)(e,{className:(0,de.cx)(e.props.className,t.invalidChild)}):e));return ge().createElement("div",{className:t.root},n)},tt=["","base","hovered","invalid","focused"],nt=()=>({root:(0,de.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:tt.indexOf("base"),"&:hover":{zIndex:tt.indexOf("hovered")},"&:focus-within":{zIndex:tt.indexOf("focused")}}}),invalidChild:(0,de.css)({zIndex:tt.indexOf("invalid")})});var rt=n(327),ot=Object.defineProperty,at=Object.defineProperties,it=Object.getOwnPropertyDescriptors,lt=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,ct=(e,t,n)=>t in e?ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dt=(e,t)=>{for(var n in t||(t={}))st.call(t,n)&&ct(e,n,t[n]);if(lt)for(var n of lt(t))ut.call(t,n)&&ct(e,n,t[n]);return e};const ft=({dataSourceName:e,docsLink:t,hasRequiredFields:n=!0,className:r})=>{const o=(0,fe.useTheme2)(),a={container:(0,de.css)({p:{margin:0},"p + p":{marginTop:o.spacing(2)}}),text:(0,de.css)((i=dt({},o.typography.body),l={color:o.colors.text.secondary,a:(0,de.css)({color:o.colors.text.link,textDecoration:"underline","&:hover":{textDecoration:"none"}})},at(i,it(l))))};var i,l;return ge().createElement("div",{className:(0,de.cx)(a.container,r)},ge().createElement("p",{className:a.text},"Before you can use the ",e," data source, you must configure it below or in the config file. For detailed instructions,"," ",ge().createElement("a",{href:t,target:"_blank",rel:"noreferrer"},"view the documentation"),"."),n&&ge().createElement("p",{className:a.text},ge().createElement("i",null,"Fields marked with * are required")))};var pt=n(622),gt=n(720),mt=Object.defineProperty,yt=Object.defineProperties,ht=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,wt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ot=e=>{var t,n=e,{children:r}=n,o=((e,t)=>{var n={};for(var r in e)vt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&bt)for(var r of bt(e))t.indexOf(r)<0&&Et.call(e,r)&&(n[r]=e[r]);return n})(n,["children"]);return ge().createElement(gt.R,(t=((e,t)=>{for(var n in t||(t={}))vt.call(t,n)&&wt(e,n,t[n]);if(bt)for(var n of bt(t))Et.call(t,n)&&wt(e,n,t[n]);return e})({},o),yt(t,ht({kind:"sub-section"}))),r)};var Tt=Object.defineProperty,qt=Object.defineProperties,St=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,It=(e,t,n)=>t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pt=(e,t)=>{for(var n in t||(t={}))At.call(t,n)&&It(e,n,t[n]);if(Ct)for(var n of Ct(t))Rt.call(t,n)&&It(e,n,t[n]);return e},_t=(e,t)=>qt(e,St(t));const Nt=e=>{var t=e,{isConfigured:n,onReset:r}=t,o=((e,t)=>{var n={};for(var r in e)At.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ct)for(var r of Ct(e))t.indexOf(r)<0&&Rt.call(e,r)&&(n[r]=e[r]);return n})(t,["isConfigured","onReset"]);return pe.createElement(fe.HorizontalGroup,null,!n&&pe.createElement(fe.Input,_t(Pt({},o),{type:"password"})),n&&pe.createElement(fe.Input,_t(Pt({},o),{type:"text",disabled:!0,value:"configured"})),n&&pe.createElement(fe.Button,{onClick:r,variant:"secondary"},"Reset"))},Dt=()=>({inlineFieldNoMarginRight:(0,de.css)({marginRight:0}),inlineFieldWithSecret:(0,de.css)({'[class$="layoutChildrenWrapper"]:first-child':{flexGrow:1}})}),xt=({user:e,passwordConfigured:t,userTooltip:n="The username of the data source account",passwordTooltip:r="The password of the data source account",onUserChange:o,onPasswordChange:a,onPasswordReset:i,readOnly:l})=>{const s=Dt(),u={lastInlineField:(0,de.css)({marginBottom:0})};return ge().createElement(ge().Fragment,null,ge().createElement(fe.InlineField,{className:s.inlineFieldNoMarginRight,label:"User",labelWidth:24,tooltip:n,required:!0,htmlFor:"basic-auth-user-input",interactive:!0,grow:!0,disabled:l},ge().createElement(fe.Input,{id:"basic-auth-user-input",placeholder:"User",value:e,onChange:e=>o(e.currentTarget.value),required:!0})),ge().createElement(fe.InlineField,{className:(0,de.cx)(s.inlineFieldNoMarginRight,s.inlineFieldWithSecret,u.lastInlineField),label:"Password",labelWidth:24,tooltip:r,required:!0,htmlFor:"basic-auth-password-input",interactive:!0,grow:!0,disabled:l},ge().createElement(Nt,{id:"basic-auth-password-input",isConfigured:t,onReset:l?()=>{}:i,placeholder:"Password",onChange:e=>a(e.currentTarget.value),required:!0})))};var Ft=(e=>(e.NoAuth="NoAuth",e.BasicAuth="BasicAuth",e.OAuthForward="OAuthForward",e.CrossSiteCredentials="CrossSiteCredentials",e))(Ft||{}),kt=Object.defineProperty,Lt=Object.defineProperties,jt=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Ut=(e,t,n)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wt=(e,t)=>{for(var n in t||(t={}))Bt.call(t,n)&&Ut(e,n,t[n]);if(Mt)for(var n of Mt(t))Kt.call(t,n)&&Ut(e,n,t[n]);return e},Gt=(e,t)=>Lt(e,jt(t));const $t={[Ft.BasicAuth]:{label:"Basic authentication",value:Ft.BasicAuth,description:"Authenticate with your data source username and password"},[Ft.CrossSiteCredentials]:{label:"Enable cross-site access control requests",value:Ft.CrossSiteCredentials,description:"Allow cross-site Access-Control requests with your existing credentials and cookies. This enables the server to authenticate the user and perform authorized requests on their behalf on other domains."},[Ft.OAuthForward]:{label:"Forward OAuth Identity",value:Ft.OAuthForward,description:"Forward the OAuth access token (and if available: the OIDC ID token) of the user querying to the data source"},[Ft.NoAuth]:{label:"No Authentication",value:Ft.NoAuth,description:"Data source is available without authentication"}},Vt=({selectedMethod:e,mostCommonMethod:t,visibleMethods:n,extendedDefaultOptions:r,customMethods:o,onAuthMethodSelect:a,basicAuth:i,readOnly:l})=>{var s,u,c,d;const[f,p]=(0,pe.useState)(!1),{colors:g,spacing:m}=(0,fe.useTheme2)(),y=(0,pe.useMemo)((()=>{var e;return null!=n?n:[Ft.BasicAuth,Ft.OAuthForward,Ft.NoAuth,...null!=(e=null==o?void 0:o.map((e=>e.id)))?e:[]]}),[o,n]),h=y.length>1,b=(0,pe.useMemo)((()=>{var e;const n=null!=(e=null==o?void 0:o.reduce(((e,t)=>(e[t.id]={label:t.label,value:t.id,description:t.description},e)),{}))?e:{},a={};let i;for(i in $t)r&&r[i]?a[i]=Wt(Wt({},$t[i]),r[i]):a[i]=$t[i];const l=Wt(Wt({},n),a);return y.filter((e=>Boolean(l[e]))).map((e=>{const n=l[e];return e===t&&h?Gt(Wt({},n),{label:`${n.label} (most common)`}):n}))}),[y,o,r,t,h]);let v=e;h?e===Ft.NoAuth&&t&&!f&&(v=t):v=y[0];let E=null;v===Ft.BasicAuth&&i?E=ge().createElement(xt,Gt(Wt({},i),{readOnly:l})):v.startsWith("custom-")&&(E=null!=(u=null==(s=null==o?void 0:o.find((e=>e.id===v)))?void 0:s.component)?u:null);const w=h?"Authentication methods":null!=(c=b[0].label)?c:"",O=h?"Choose an authentication method to access the data source":null!=(d=b[0].description)?d:"",T={authMethods:(0,de.css)(Wt({marginTop:m(2.5)},h&&{padding:m(2),border:`1px solid ${g.border.weak}`})),selectedMethodFields:(0,de.css)({marginTop:m(1.5)})};return ge().createElement(Ot,{title:w,description:O},ge().createElement("div",{className:T.authMethods},h&&ge().createElement(fe.Select,{options:b,value:v,onChange:e=>{p(!0),a(e.value)},disabled:l}),E&&ge().createElement("div",{className:T.selectedMethodFields},E)))};var Yt=Object.defineProperty,Ht=Object.defineProperties,Qt=Object.getOwnPropertyDescriptors,Jt=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,Zt=(e,t,n)=>t in e?Yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,en=(e,t)=>{for(var n in t||(t={}))zt.call(t,n)&&Zt(e,n,t[n]);if(Jt)for(var n of Jt(t))Xt.call(t,n)&&Zt(e,n,t[n]);return e};const tn=e=>({configuredStyle:de.css`
      min-height: ${e.spacing(e.components.height.md)};
      padding-top: ${e.spacing(.5)};
      resize: none;
    `}),nn=e=>{var t=e,{isConfigured:n,onReset:r}=t,o=((e,t)=>{var n={};for(var r in e)zt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jt)for(var r of Jt(e))t.indexOf(r)<0&&Xt.call(e,r)&&(n[r]=e[r]);return n})(t,["isConfigured","onReset"]);const a=(0,fe.useStyles2)(tn);return pe.createElement(fe.HorizontalGroup,null,!n&&pe.createElement(fe.TextArea,en({},o)),n&&pe.createElement(fe.TextArea,(i=en({},o),l={rows:1,disabled:!0,value:"configured",className:(0,de.cx)(a.configuredStyle)},Ht(i,Qt(l)))),n&&pe.createElement(fe.Button,{onClick:r,variant:"secondary"},"Reset"));var i,l},rn=({children:e,enabled:t,label:n,tooltipText:r,onToggle:o,readOnly:a})=>{const{colors:i,spacing:l}=(0,fe.useTheme2)(),s={container:(0,de.css)({marginTop:3}),checkboxContainer:(0,de.css)({display:"flex",alignItems:"center"}),infoIcon:(0,de.css)({marginTop:-2,marginLeft:5,color:i.text.secondary}),content:(0,de.css)({margin:l(1,0,2,3)})};return ge().createElement("div",{className:s.container},ge().createElement("div",{className:s.checkboxContainer},ge().createElement(fe.Checkbox,{value:t,label:n,onChange:()=>o(!t),disabled:a}),ge().createElement(fe.Tooltip,{placement:"top",content:r,interactive:!0},ge().createElement(fe.Icon,{name:"info-circle",className:s.infoIcon,size:"sm"}))),t&&e&&ge().createElement("div",{className:s.content},e))},on=({enabled:e,certificateConfigured:t,onToggle:n,onCertificateChange:r,onCertificateReset:o,tooltips:a,readOnly:i})=>{var l;const s=Dt();return ge().createElement(rn,{enabled:e,label:"Add self-signed certificate",tooltipText:"Add your own Certificate Authority (CA) certificate on top of one generated by the certificate authorities for additional security measures",onToggle:e=>n(e),readOnly:i},ge().createElement(fe.InlineField,{label:"CA Certificate",labelWidth:24,tooltip:null!=(l=null==a?void 0:a.certificateLabel)?l:"Your self-signed certificate",required:!0,htmlFor:"self-signed-certificate-input",interactive:!0,grow:!0,className:(0,de.cx)(s.inlineFieldNoMarginRight,s.inlineFieldWithSecret),disabled:i},ge().createElement(nn,{id:"self-signed-certificate-input",isConfigured:t,onChange:e=>r(e.currentTarget.value),onReset:i?()=>{}:o,placeholder:"Begins with --- BEGIN CERTIFICATE ---",rows:6,required:!0})))},an=({enabled:e,serverName:t,clientCertificateConfigured:n,clientKeyConfigured:r,onToggle:o,onServerNameChange:a,onClientCertificateChange:i,onClientKeyChange:l,onClientCertificateReset:s,onClientKeyReset:u,tooltips:c,readOnly:d})=>{var f,p,g;const m=Dt();return ge().createElement(rn,{enabled:e,label:"TLS Client Authentication",tooltipText:"Validate using TLS client authentication, in which the server authenticates the client",onToggle:e=>o(e),readOnly:d},ge().createElement(fe.InlineField,{label:"ServerName",labelWidth:24,tooltip:null!=(f=null==c?void 0:c.serverNameLabel)?f:"A Servername is used to verify the hostname on the returned certificate",required:!0,htmlFor:"client-auth-servername-input",interactive:!0,grow:!0,className:m.inlineFieldNoMarginRight,disabled:d},ge().createElement(fe.Input,{id:"client-auth-servername-input",placeholder:"domain.example.com",value:t,onChange:e=>a(e.currentTarget.value),required:!0})),ge().createElement(fe.InlineField,{label:"Client Certificate",labelWidth:24,tooltip:null!=(p=null==c?void 0:c.certificateLabel)?p:"The client certificate can be generated from a Certificate Authority or be self-signed",required:!0,htmlFor:"client-auth-client-certificate-input",interactive:!0,grow:!0,className:(0,de.cx)(m.inlineFieldNoMarginRight,m.inlineFieldWithSecret),disabled:d},ge().createElement(nn,{id:"client-auth-client-certificate-input",isConfigured:n,onChange:e=>i(e.currentTarget.value),onReset:d?()=>{}:s,placeholder:"Begins with --- BEGIN CERTIFICATE ---",rows:6,required:!0})),ge().createElement(fe.InlineField,{label:"Client Key",labelWidth:24,tooltip:null!=(g=null==c?void 0:c.keyLabel)?g:"The client key can be generated from a Certificate Authority or be self-signed",required:!0,htmlFor:"client-auth-client-key-input",interactive:!0,grow:!0,className:(0,de.cx)(m.inlineFieldNoMarginRight,m.inlineFieldWithSecret),disabled:d},ge().createElement(nn,{id:"client-auth-client-key-input",isConfigured:r,onChange:e=>l(e.currentTarget.value),onReset:d?()=>{}:u,placeholder:"Begins with --- RSA PRIVATE KEY CERTIFICATE ---",rows:6,required:!0})))},ln=({enabled:e,onToggle:t,readOnly:n})=>ge().createElement(rn,{enabled:e,label:"Skip TLS certificate validation",tooltipText:"Skipping TLS certificate validation is not recommended unless absolutely necessary or for testing",onToggle:e=>t(e),readOnly:n});var sn=Object.defineProperty,un=Object.defineProperties,cn=Object.getOwnPropertyDescriptors,dn=Object.getOwnPropertySymbols,fn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,gn=(e,t,n)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mn=(e,t)=>{for(var n in t||(t={}))fn.call(t,n)&&gn(e,n,t[n]);if(dn)for(var n of dn(t))pn.call(t,n)&&gn(e,n,t[n]);return e},yn=(e,t)=>un(e,cn(t));const hn=({selfSignedCertificate:e,TLSClientAuth:t,skipTLSVerification:n,readOnly:r})=>{const{spacing:o}=(0,fe.useTheme2)(),a={container:(0,de.css)({marginTop:o(3)})};return ge().createElement(Ot,{className:a.container,title:"TLS settings",description:"Additional security measures that can be applied on top of authentication"},ge().createElement(on,yn(mn({},e),{readOnly:r})),ge().createElement(an,yn(mn({},t),{readOnly:r})),ge().createElement(ln,yn(mn({},n),{readOnly:r})))};var bn=Object.defineProperty,vn=Object.defineProperties,En=Object.getOwnPropertyDescriptors,wn=Object.getOwnPropertySymbols,On=Object.prototype.hasOwnProperty,Tn=Object.prototype.propertyIsEnumerable,qn=(e,t,n)=>t in e?bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sn=(e,t)=>{for(var n in t||(t={}))On.call(t,n)&&qn(e,n,t[n]);if(wn)for(var n of wn(t))Tn.call(t,n)&&qn(e,n,t[n]);return e},Cn=(e,t)=>vn(e,En(t));const An=({header:e,onChange:t,onBlur:n,onDelete:r,readOnly:o})=>{const{spacing:a}=(0,fe.useTheme2)(),i=Dt(),l={container:(0,de.css)({alignItems:"center"}),input:(0,de.css)({minWidth:"100%"}),headerNameField:(0,de.css)({width:"40%",marginRight:0,paddingRight:a(1)}),headerValueField:(0,de.css)({width:"45%",marginRight:0}),removeHeaderBtn:(0,de.css)({margin:"0 0 3px 10px"})};return ge().createElement(ge().Fragment,null,ge().createElement(fe.InlineFieldRow,{className:l.container},ge().createElement(fe.InlineField,{label:"Header",labelWidth:9,grow:!0,className:l.headerNameField,htmlFor:`custom-header-${e.id}-name-input`,disabled:o},ge().createElement(fe.Input,{id:`custom-header-${e.id}-name-input`,placeholder:"X-Custom-Header",value:e.name,width:12,onChange:n=>t(Cn(Sn({},e),{name:n.currentTarget.value})),onBlur:n,className:l.input})),ge().createElement(fe.InlineField,{label:"Value",labelWidth:9,grow:!0,className:(0,de.cx)(i.inlineFieldWithSecret,l.headerValueField),htmlFor:`custom-header-${e.id}-value-input`,disabled:o},ge().createElement(Nt,{id:`custom-header-${e.id}-value-input`,isConfigured:e.configured,placeholder:"Header value",value:e.value,width:12,onChange:n=>t(Cn(Sn({},e),{value:n.currentTarget.value})),onReset:o?()=>{}:()=>t(Cn(Sn({},e),{configured:!1,value:""})),onBlur:n,className:l.input})),ge().createElement(fe.IconButton,{name:"trash-alt",tooltip:"Remove header",tooltipPlacement:"top",className:l.removeHeaderBtn,onClick:r,type:"button",disabled:o})))};var Rn=Object.defineProperty,In=Object.defineProperties,Pn=Object.getOwnPropertyDescriptors,_n=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,xn=(e,t,n)=>t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fn=(e,t)=>{for(var n in t||(t={}))Nn.call(t,n)&&xn(e,n,t[n]);if(_n)for(var n of _n(t))Dn.call(t,n)&&xn(e,n,t[n]);return e},kn=(e,t)=>In(e,Pn(t));const Ln=({headers:e,onChange:t,readOnly:n})=>{const{spacing:r}=(0,fe.useTheme2)(),[o,a]=(0,pe.useState)(e.map((e=>kn(Fn({},e),{id:jn(),value:""}))));(0,pe.useEffect)((()=>{a((t=>{let n=!1;const r=t.map((t=>{var r;const o=null==(r=e.find((e=>e.name===t.name)))?void 0:r.configured;return void 0!==o&&t.configured!==o?(n=!0,kn(Fn({},t),{configured:o})):t}));return n?r:t}))}),[e]);const i=()=>{t(o.map((({name:e,value:t,configured:n})=>({name:e,value:t,configured:n}))))},l={container:(0,de.css)({marginTop:r(3)}),addHeaderButton:(0,de.css)({marginTop:r(1.5)})};return ge().createElement("div",{className:l.container},ge().createElement(Ot,{title:"HTTP headers",description:"Pass along additional context and metadata about the request/response",isCollapsible:!0,isInitiallyOpen:o.length>0},ge().createElement("div",null,o.map((e=>ge().createElement(An,{key:e.id,header:e,onChange:e=>((e,t)=>{a(o.map((n=>n.id===e?Fn({},t):n)))})(e.id,e),onDelete:()=>(e=>{const n=o.findIndex((t=>t.id===e));if(-1===n)return;const r=[...o];r.splice(n,1),a(r),t(r.map((({name:e,value:t,configured:n})=>({name:e,value:t,configured:n}))))})(e.id),onBlur:i,readOnly:n})))),ge().createElement("div",{className:l.addHeaderButton},ge().createElement(fe.Button,{icon:"plus",variant:"secondary",fill:"outline",onClick:()=>{a([...o,{id:jn(),name:"",value:"",configured:!1}])},disabled:n},0===o.length?"Add header":"Add another header"))))};function jn(){return Math.random().toString(16).slice(2)}var Mn=Object.defineProperty,Bn=Object.defineProperties,Kn=Object.getOwnPropertyDescriptors,Un=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Gn=Object.prototype.propertyIsEnumerable,$n=(e,t,n)=>t in e?Mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vn=(e,t)=>{for(var n in t||(t={}))Wn.call(t,n)&&$n(e,n,t[n]);if(Un)for(var n of Un(t))Gn.call(t,n)&&$n(e,n,t[n]);return e},Yn=(e,t)=>Bn(e,Kn(t));const Hn=({selectedMethod:e,mostCommonMethod:t,visibleMethods:n,extendedDefaultOptions:r,customMethods:o,onAuthMethodSelect:a,basicAuth:i,TLS:l,customHeaders:s,readOnly:u=!1})=>{const c={container:(0,de.css)({maxWidth:578})};return ge().createElement("div",{className:c.container},ge().createElement(pt.K,{title:"Authentication"},ge().createElement(Vt,{selectedMethod:e,mostCommonMethod:t,customMethods:o,visibleMethods:n,extendedDefaultOptions:r,onAuthMethodSelect:a,basicAuth:i,readOnly:u}),l&&ge().createElement(hn,Yn(Vn({},l),{readOnly:u})),s&&ge().createElement(Ln,Yn(Vn({},s),{readOnly:u}))))};var Qn=Object.defineProperty,Jn=Object.defineProperties,zn=Object.getOwnPropertyDescriptors,Xn=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,tr=(e,t,n)=>t in e?Qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nr=(e,t)=>{for(var n in t||(t={}))Zn.call(t,n)&&tr(e,n,t[n]);if(Xn)for(var n of Xn(t))er.call(t,n)&&tr(e,n,t[n]);return e},rr=(e,t)=>Jn(e,zn(t));const or="httpHeaderName",ar="httpHeaderValue";function ir({config:e,onChange:t}){return{selectedMethod:lr(e),onAuthMethodSelect:sr(e,t),basicAuth:ur(e,t),TLS:cr(e,t),customHeaders:dr(e,t),readOnly:e.readOnly}}function lr(e){return e.basicAuth?Ft.BasicAuth:e.withCredentials?Ft.CrossSiteCredentials:e.jsonData.oauthPassThru?Ft.OAuthForward:Ft.NoAuth}function sr(e,t){return n=>{t(rr(nr({},e),{basicAuth:n===Ft.BasicAuth,withCredentials:n===Ft.CrossSiteCredentials,jsonData:rr(nr({},e.jsonData),{oauthPassThru:n===Ft.OAuthForward})}))}}function ur(e,t){return{user:e.basicAuthUser,passwordConfigured:e.secureJsonFields.basicAuthPassword,onUserChange:n=>t(rr(nr({},e),{basicAuthUser:n})),onPasswordChange:n=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{basicAuthPassword:n})})),onPasswordReset:()=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{basicAuthPassword:""}),secureJsonFields:rr(nr({},e.secureJsonFields),{basicAuthPassword:!1})}))}}function cr(e,t){return{selfSignedCertificate:{enabled:Boolean(e.jsonData.tlsAuthWithCACert),certificateConfigured:e.secureJsonFields.tlsCACert,onToggle:n=>t(rr(nr({},e),{jsonData:rr(nr({},e.jsonData),{tlsAuthWithCACert:n})})),onCertificateChange:n=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{tlsCACert:n})})),onCertificateReset:()=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{tlsCACert:""}),secureJsonFields:rr(nr({},e.secureJsonFields),{tlsCACert:!1})}))},TLSClientAuth:{enabled:e.jsonData.tlsAuth,serverName:e.jsonData.serverName,clientCertificateConfigured:e.secureJsonFields.tlsClientCert,clientKeyConfigured:e.secureJsonFields.tlsClientKey,onToggle:n=>t(rr(nr({},e),{jsonData:rr(nr({},e.jsonData),{tlsAuth:n})})),onServerNameChange:n=>t(rr(nr({},e),{jsonData:rr(nr({},e.jsonData),{serverName:n})})),onClientCertificateChange:n=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{tlsClientCert:n})})),onClientCertificateReset:()=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{tlsClientCert:""}),secureJsonFields:rr(nr({},e.secureJsonFields),{tlsClientCert:!1})})),onClientKeyChange:n=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{tlsClientKey:n})})),onClientKeyReset:()=>t(rr(nr({},e),{secureJsonData:rr(nr({},e.secureJsonData),{tlsClientKey:""}),secureJsonFields:rr(nr({},e.secureJsonFields),{tlsClientKey:!1})}))},skipTLSVerification:{enabled:e.jsonData.tlsSkipVerify,onToggle:n=>t(rr(nr({},e),{jsonData:rr(nr({},e.jsonData),{tlsSkipVerify:n})}))}}}function dr(e,t){return{headers:Object.keys(e.jsonData).filter((e=>e.startsWith(or))).sort().map((t=>{var n;const r=t.slice(or.length);return{name:e.jsonData[t],configured:null!=(n=e.secureJsonFields[`${ar}${r}`])&&n}})),onChange:n=>{const r=Object.fromEntries(Object.entries(e.jsonData).filter((([e])=>!e.startsWith(or)))),o=Object.fromEntries(Object.entries(e.secureJsonData||{}).filter((([e])=>!e.startsWith(ar)))),a=Object.fromEntries(Object.entries(e.secureJsonFields).filter((([e])=>!e.startsWith(ar))));n.forEach(((e,t)=>{r[`${or}${t+1}`]=e.name,e.configured?a[`${ar}${t+1}`]=!0:o[`${ar}${t+1}`]=e.value})),t(rr(nr({},e),{jsonData:r,secureJsonData:o,secureJsonFields:a}))}}}var fr=Object.defineProperty,pr=Object.defineProperties,gr=Object.getOwnPropertyDescriptors,mr=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,hr=Object.prototype.propertyIsEnumerable,br=(e,t,n)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const vr=({config:e,onChange:t,description:n,urlPlaceholder:r,urlTooltip:o,urlLabel:a,className:i})=>{const l=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/.test(e.url),s={container:(0,de.css)({maxWidth:578})};return ge().createElement(ge().Fragment,null,ge().createElement(pt.K,{title:"Connection",description:n,className:(0,de.cx)(s.container,i)},ge().createElement(fe.InlineField,{htmlFor:"connection-url",label:a||"URL",labelWidth:24,tooltip:o||ge().createElement(ge().Fragment,null,"Specify a complete HTTP URL",ge().createElement("br",null),"(for example https://example.com:8080)"),grow:!0,disabled:e.readOnly,required:!0,invalid:!l&&!e.readOnly,error:l?"":"Please enter a valid URL",interactive:!0},ge().createElement(fe.Input,{id:"connection-url","aria-label":"Data source connection URL",onChange:n=>{return t((r=((e,t)=>{for(var n in t||(t={}))yr.call(t,n)&&br(e,n,t[n]);if(mr)for(var n of mr(t))hr.call(t,n)&&br(e,n,t[n]);return e})({},e),o={url:n.currentTarget.value},pr(r,gr(o))));var r,o},value:e.url||"",placeholder:r||"URL"}))))};var Er=Object.defineProperty,wr=Object.defineProperties,Or=Object.getOwnPropertyDescriptors,Tr=Object.getOwnPropertySymbols,qr=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable,Cr=(e,t,n)=>t in e?Er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ar=(e,t)=>{for(var n in t||(t={}))qr.call(t,n)&&Cr(e,n,t[n]);if(Tr)for(var n of Tr(t))Sr.call(t,n)&&Cr(e,n,t[n]);return e},Rr=(e,t)=>wr(e,Or(t));const Ir=({config:e,onChange:t,className:n})=>{const r={container:(0,de.css)({maxWidth:578})};return ge().createElement(Ot,{title:"Advanced HTTP settings",className:(0,de.cx)(r.container,n)},ge().createElement(fe.InlineField,{htmlFor:"advanced-http-cookies",label:"Allowed cookies",labelWidth:24,tooltip:"Grafana proxy deletes forwarded cookies by default. Specify cookies by name that should be forwarded to the data source.",disabled:e.readOnly,grow:!0},ge().createElement(fe.TagsInput,{id:"advanced-http-cookies",placeholder:"New cookie (hit enter to add)",tags:e.jsonData.keepCookies,onChange:n=>{t(Rr(Ar({},e),{jsonData:Rr(Ar({},e.jsonData),{keepCookies:n})}))}})),ge().createElement(fe.InlineField,{htmlFor:"advanced-http-timeout",label:"Timeout",labelWidth:24,tooltip:"HTTP request timeout in seconds",disabled:e.readOnly,grow:!0},ge().createElement(fe.Input,{id:"advanced-http-timeout",type:"number",min:0,placeholder:"Timeout in seconds","aria-label":"Timeout in seconds",value:e.jsonData.timeout,onChange:n=>{t(Rr(Ar({},e),{jsonData:Rr(Ar({},e.jsonData),{timeout:parseInt(n.currentTarget.value,10)})}))}})))}},565:(e,t,n)=>{n.d(t,{i:()=>ne});var r=n(388),o=n(650),a=n.n(o),i=n(143),l=n(172),s=Object.defineProperty,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=(e,t,n={})=>((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&f(e,n,t[n]);if(u)for(var n of u(t))d.call(t,n)&&f(e,n,t[n]);return e})({label:e,insertText:e,kind:l.cm.Field,sortText:l.G8.Medium,range:t},n);var g=Object.defineProperty,m=Object.defineProperties,y=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&E(e,n,t[n]);if(h)for(var n of h(t))v.call(t,n)&&E(e,n,t[n]);return e};const O=()=>[{id:l.fC.SelectKeyword,name:l.fC.SelectKeyword,kind:[l.is.SelectKeyword]},{id:l.fC.WithKeyword,name:l.fC.WithKeyword,kind:[l.is.WithKeyword]},{id:l.fC.AfterSelectKeyword,name:l.fC.AfterSelectKeyword,kind:[l.is.StarWildCard,l.is.FunctionsWithArguments,l.is.Columns,l.is.SelectMacro]},{id:l.fC.AfterSelectFuncFirstArgument,name:l.fC.AfterSelectFuncFirstArgument,kind:[l.is.Columns]},{id:l.fC.AfterGroupByFunctionArgument,name:l.fC.AfterGroupByFunctionArgument,kind:[l.is.Columns]},{id:l.fC.AfterWhereFunctionArgument,name:l.fC.AfterWhereFunctionArgument,kind:[l.is.Columns]},{id:l.fC.AfterSelectArguments,name:l.fC.AfterSelectArguments,kind:[l.is.Columns]},{id:l.fC.AfterFromKeyword,name:l.fC.AfterFromKeyword,kind:[l.is.Schemas,l.is.Tables,l.is.TableMacro]},{id:l.fC.AfterSchema,name:l.fC.AfterSchema,kind:[l.is.Tables,l.is.TableMacro]},{id:l.fC.SelectAlias,name:l.fC.SelectAlias,kind:[l.is.Columns,l.is.FunctionsWithArguments]},{id:l.fC.FromKeyword,name:l.fC.FromKeyword,kind:[l.is.FromKeyword]},{id:l.fC.AfterFrom,name:l.fC.AfterFrom,kind:[l.is.WhereKeyword,l.is.GroupByKeywords,l.is.OrderByKeywords,l.is.LimitKeyword]},{id:l.fC.AfterTable,name:l.fC.AfterTable,kind:[l.is.WhereKeyword,l.is.GroupByKeywords,l.is.OrderByKeywords,l.is.LimitKeyword]},{id:l.fC.WhereKeyword,name:l.fC.WhereKeyword,kind:[l.is.Columns,l.is.FilterMacro,l.is.TemplateVariables]},{id:l.fC.WhereComparisonOperator,name:l.fC.WhereComparisonOperator,kind:[l.is.ComparisonOperators]},{id:l.fC.WhereValue,name:l.fC.WhereValue,kind:[l.is.FilterMacro,l.is.TemplateVariables]},{id:l.fC.AfterWhereValue,name:l.fC.AfterWhereValue,kind:[l.is.LogicalOperators,l.is.GroupByKeywords,l.is.OrderByKeywords,l.is.LimitKeyword,l.is.Columns,l.is.TemplateVariables]},{id:l.fC.AfterGroupByKeywords,name:l.fC.AfterGroupByKeywords,kind:[l.is.GroupMacro,l.is.Columns]},{id:l.fC.AfterGroupBy,name:l.fC.AfterGroupBy,kind:[l.is.OrderByKeywords,l.is.LimitKeyword]},{id:l.fC.AfterOrderByKeywords,name:l.fC.AfterOrderByKeywords,kind:[l.is.Columns]},{id:l.fC.AfterOrderByFunction,name:l.fC.AfterOrderByFunction,kind:[l.is.SortOrderDirectionKeyword,l.is.LimitKeyword]},{id:l.fC.AfterOrderByDirection,name:l.fC.AfterOrderByDirection,kind:[l.is.LimitKeyword]},{id:l.fC.AfterIsOperator,name:l.fC.AfterOrderByDirection,kind:[l.is.NotKeyword,l.is.NullValue,l.is.BoolValues]},{id:l.fC.AfterIsNotOperator,name:l.fC.AfterOrderByDirection,kind:[l.is.NullValue,l.is.BoolValues]}];var T=n(190),q=n(941);const S=e=>{var t;const n=(e=>{const t=(e=>{var t;return null!=(t=null==e?void 0:e.getPreviousOfType(l.iv.Keyword,q.SELECT))?t:null})(e);return null==t?void 0:t.getNextOfType(l.iv.Keyword,q.FROM)})(e),r=null==n?void 0:n.getNextNonWhiteSpaceToken();return(null==r?void 0:r.isVariable())||(null==r?void 0:r.isKeyword())&&(null==(t=r.next)?void 0:t.is(l.iv.Parenthesis,"("))?null:r},C=e=>{const t=null==e?void 0:e.value.split(".");return 1===(null==t?void 0:t.length)?{table:t[0]}:2===(null==t?void 0:t.length)?{schema:t[0],table:t[1]}:null},A={id:"editor.action.triggerSuggest",title:""};var R,I=new Uint8Array(16);function P(){if(!R&&!(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(I)}const _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var N=[],D=0;D<256;++D)N.push((D+256).toString(16).substr(1));const x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(N[e[t+0]]+N[e[t+1]]+N[e[t+2]]+N[e[t+3]]+"-"+N[e[t+4]]+N[e[t+5]]+"-"+N[e[t+6]]+N[e[t+7]]+"-"+N[e[t+8]]+N[e[t+9]]+"-"+N[e[t+10]]+N[e[t+11]]+N[e[t+12]]+N[e[t+13]]+N[e[t+14]]+N[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&_.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},F=function(e,t,n){var r=(e=e||{}).random||(e.rng||P)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return x(r)};var k=n(305),L=n(545);const j=(e,t,n)=>()=>[{id:l.is.SelectKeyword,name:l.is.SelectKeyword,suggestions:(e,t)=>Promise.resolve([{label:"SELECT <column>",insertText:"SELECT $0",insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Snippet,command:A,sortText:l.G8.Medium},{label:"SELECT <column> FROM <table>",insertText:"SELECT $2 FROM $1",insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Snippet,command:A,sortText:l.G8.Medium}])},{id:l.is.TemplateVariables,name:l.is.TemplateVariables,suggestions:(e,t)=>{const n=(0,L.getTemplateSrv)();return n?Promise.resolve(n.getVariables().map((e=>{const t=`$${e.name}`,r=n.replace(t);return{label:t,detail:`(Template Variable) ${r}`,kind:l.cm.Snippet,documentation:`(Template Variable) ${r}`,insertText:`\\$${e.name} `,insertTextRules:l.a7.InsertAsSnippet,command:A,sortText:l.G8.Low}}))):Promise.resolve([])}},{id:l.is.SelectMacro,name:l.is.SelectMacro,suggestions:(e,t)=>Promise.resolve([...n.list().filter((e=>e.type===l.mB.Value||e.type===l.mB.Column)).map(M)])},{id:l.is.TableMacro,name:l.is.TableMacro,suggestions:(e,t)=>Promise.resolve([...n.list().filter((e=>e.type===l.mB.Table)).map(M)])},{id:l.is.GroupMacro,name:l.is.GroupMacro,suggestions:(e,t)=>Promise.resolve([...n.list().filter((e=>e.type===l.mB.Group)).map(M)])},{id:l.is.FilterMacro,name:l.is.FilterMacro,suggestions:(e,t)=>Promise.resolve([...n.list().filter((e=>e.type===l.mB.Filter)).map(M)])},{id:l.is.WithKeyword,name:l.is.WithKeyword,suggestions:(e,t)=>Promise.resolve([{label:"WITH <alias> AS ( ... )",insertText:"WITH $1  AS ( $2 )",insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Snippet,command:A,sortText:l.G8.Medium}])},{id:l.is.StarWildCard,name:l.is.StarWildCard,suggestions:(e,t)=>Promise.resolve([{label:"*",insertText:"* $0",insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Field,command:A,sortText:l.G8.High}])},{id:l.is.FunctionsWithArguments,name:l.is.FunctionsWithArguments,suggestions:(t,n)=>Promise.resolve([...e.list().map((e=>({label:e.name,insertText:`${e.name}($0)`,documentation:e.description,insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Function,command:A,sortText:l.G8.MediumLow})))])},{id:l.is.FunctionsWithoutArguments,name:l.is.FunctionsWithoutArguments,suggestions:(t,n)=>Promise.resolve([...e.list().map((e=>({label:e.name,insertText:`${e.name}()`,documentation:e.description,insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Function,command:A,sortText:l.G8.MediumHigh})))])},{id:l.is.FromKeyword,name:l.is.FromKeyword,suggestions:(e,t)=>Promise.resolve([{label:"FROM",insertText:"FROM $0",command:A,insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Keyword}])},{id:l.is.Schemas,name:l.is.Schemas,suggestions:(e,t)=>Promise.resolve([])},{id:l.is.Tables,name:l.is.Tables,suggestions:(e,t)=>Promise.resolve([])},{id:l.is.Columns,name:l.is.Columns,suggestions:(e,t)=>Promise.resolve([])},{id:l.is.LogicalOperators,name:l.is.LogicalOperators,suggestions:(e,n)=>Promise.resolve(t.list().filter((e=>e.type===l.$M.Logical)).map((e=>({label:e.operator,insertText:`${e.operator} `,documentation:e.description,command:A,sortText:l.G8.MediumHigh,kind:l.cm.Operator}))))},{id:l.is.WhereKeyword,name:l.is.WhereKeyword,suggestions:(e,t)=>Promise.resolve([{label:"WHERE",insertText:"WHERE ",command:A,sortText:l.G8.MediumHigh,kind:l.cm.Keyword}])},{id:l.is.ComparisonOperators,name:l.is.ComparisonOperators,suggestions:(e,n)=>Promise.resolve([...t.list().filter((e=>e.type===l.$M.Comparison)).map((e=>({label:e.operator,insertText:`${e.operator} `,documentation:e.description,command:A,sortText:l.G8.MediumHigh,kind:l.cm.Operator}))),{label:"IN (...)",insertText:"IN ( $0 )",command:A,sortText:l.G8.Medium,kind:l.cm.Operator,insertTextRules:l.a7.InsertAsSnippet},{label:"NOT IN (...)",insertText:"NOT IN ( $0 )",command:A,sortText:l.G8.Medium,kind:l.cm.Operator,insertTextRules:l.a7.InsertAsSnippet},{label:"IS",insertText:"IS",command:A,sortText:l.G8.Medium,kind:l.cm.Operator},{label:"IS NOT",insertText:"IS NOT",command:A,sortText:l.G8.Medium,kind:l.cm.Operator}])},{id:l.is.GroupByKeywords,name:l.is.GroupByKeywords,suggestions:(e,t)=>Promise.resolve([{label:"GROUP BY",insertText:"GROUP BY ",command:A,sortText:l.G8.MediumHigh,kind:l.cm.Keyword}])},{id:l.is.OrderByKeywords,name:l.is.OrderByKeywords,suggestions:(e,t)=>Promise.resolve([{label:"ORDER BY",insertText:"ORDER BY ",command:A,sortText:l.G8.Medium,kind:l.cm.Keyword},{label:"ORDER BY(ascending)",insertText:"ORDER BY $1 ASC ",command:A,sortText:l.G8.MediumLow,kind:l.cm.Snippet,insertTextRules:l.a7.InsertAsSnippet},{label:"ORDER BY(descending)",insertText:"ORDER BY $1 DESC",command:A,sortText:l.G8.MediumLow,kind:l.cm.Snippet,insertTextRules:l.a7.InsertAsSnippet}])},{id:l.is.LimitKeyword,name:l.is.LimitKeyword,suggestions:(e,t)=>Promise.resolve([{label:"LIMIT",insertText:"LIMIT ",command:A,sortText:l.G8.MediumLow,kind:l.cm.Keyword}])},{id:l.is.SortOrderDirectionKeyword,name:l.is.SortOrderDirectionKeyword,suggestions:(e,t)=>Promise.resolve([q.ASC,q.DESC].map((e=>({label:e,insertText:`${e} `,command:A,kind:l.cm.Keyword}))))},{id:l.is.NotKeyword,name:l.is.NotKeyword,suggestions:()=>Promise.resolve([{label:"NOT",insertText:"NOT",command:A,kind:l.cm.Keyword,sortText:l.G8.High}])},{id:l.is.BoolValues,name:l.is.BoolValues,suggestions:()=>Promise.resolve(["TRUE","FALSE"].map((e=>({label:e,insertText:`${e}`,command:A,kind:l.cm.Keyword,sortText:l.G8.Medium}))))},{id:l.is.NullValue,name:l.is.NullValue,suggestions:()=>Promise.resolve(["NULL"].map((e=>({label:e,insertText:`${e}`,command:A,kind:l.cm.Keyword,sortText:l.G8.Low}))))}];function M(e){return{label:e.name,insertText:`${"\\"+e.text}${t=e.args,t?"(".concat(t.map(((e,t)=>`\${${t}:${e}}`)).join(", ")).concat(")"):"()"} `,insertTextRules:l.a7.InsertAsSnippet,kind:l.cm.Snippet,documentation:e.description,command:A};var t}function B(){return[{id:l.fC.SelectKeyword,name:l.fC.SelectKeyword,resolve:(e,t,n,r)=>Boolean(null===e||e.isWhiteSpace()&&null===e.previous||e.is(l.iv.Keyword,q.SELECT)||e.is(l.iv.Keyword,q.SELECT)&&null===e.previous||r||e.isIdentifier()&&(r||null===(null==e?void 0:e.previous))||e.isIdentifier()&&q.SELECT.startsWith(e.value.toLowerCase()))},{id:l.fC.WithKeyword,name:l.fC.WithKeyword,resolve:(e,t,n,r)=>Boolean(null===e||e.isWhiteSpace()&&null===e.previous||e.is(l.iv.Keyword,q.WITH)&&null===e.previous||e.isIdentifier()&&q.WITH.toLowerCase().startsWith(e.value.toLowerCase()))},{id:l.fC.AfterSelectKeyword,name:l.fC.AfterSelectKeyword,resolve:(e,t,n,r)=>Boolean((null==n?void 0:n.value.toLowerCase())===q.SELECT)},{id:l.fC.AfterSelectArguments,name:l.fC.AfterSelectArguments,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.value.toLowerCase())===q.SELECT&&","===(null==n?void 0:n.value))},{id:l.fC.AfterSelectFuncFirstArgument,name:l.fC.AfterSelectFuncFirstArgument,resolve:(e,t,n,r)=>Boolean(((null==t?void 0:t.value.toLowerCase())===q.SELECT||(null==t?void 0:t.value.toLowerCase())===q.AS)&&((null==n?void 0:n.is(l.iv.Parenthesis,"("))||(null==e?void 0:e.is(l.iv.Parenthesis,"()"))))},{id:l.fC.AfterWhereFunctionArgument,name:l.fC.AfterWhereFunctionArgument,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.is(l.iv.Keyword,q.WHERE))&&((null==n?void 0:n.is(l.iv.Parenthesis,"("))||(null==e?void 0:e.is(l.iv.Parenthesis,"()"))))},{id:l.fC.AfterGroupBy,name:l.fC.AfterGroupBy,resolve:(e,t,n,r)=>{var o;return Boolean((null==t?void 0:t.is(l.iv.Keyword,q.BY))&&(null==(o=null==t?void 0:t.getPreviousKeyword())?void 0:o.is(l.iv.Keyword,q.GROUP))&&((null==n?void 0:n.isIdentifier())||(null==n?void 0:n.isDoubleQuotedString())||(null==n?void 0:n.is(l.iv.Parenthesis,")"))||(null==n?void 0:n.is(l.iv.Parenthesis,"()"))))}},{id:l.fC.SelectAlias,name:l.fC.SelectAlias,resolve:(e,t,n,r)=>","===(null==n?void 0:n.value)&&(null==t?void 0:t.value.toLowerCase())===q.AS},{id:l.fC.FromKeyword,name:l.fC.FromKeyword,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.value.toLowerCase())===q.SELECT&&","!==(null==n?void 0:n.value)||((null==e?void 0:e.isKeyword())||(null==e?void 0:e.isIdentifier()))&&q.FROM.toLowerCase().startsWith(e.value.toLowerCase()))},{id:l.fC.AfterFromKeyword,name:l.fC.AfterFromKeyword,resolve:(e,t,n,r)=>Boolean(!(null==e?void 0:e.value.includes("."))&&(null==n?void 0:n.value.toLowerCase())===q.FROM)},{id:l.fC.AfterSchema,name:l.fC.AfterSchema,resolve:(e,t,n,r)=>((null==e?void 0:e.isWhiteSpace())&&(null==e?void 0:e.next)&&(n=(e=null==e?void 0:e.previous).getPreviousNonWhiteSpaceToken()),Boolean((null==e?void 0:e.isIdentifier())&&(null==e?void 0:e.value.endsWith("."))&&(null==n?void 0:n.value.toLowerCase())===q.FROM))},{id:l.fC.AfterFrom,name:l.fC.AfterFrom,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.value.toLowerCase())===q.FROM&&(null==n?void 0:n.isDoubleQuotedString())||(null==t?void 0:t.value.toLowerCase())===q.FROM&&(null==n?void 0:n.isIdentifier())||(null==t?void 0:t.value.toLowerCase())===q.FROM&&(null==n?void 0:n.isVariable()))},{id:l.fC.AfterTable,name:l.fC.AfterTable,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.value.toLowerCase())===q.FROM&&((null==n?void 0:n.isVariable())||""!==(null==n?void 0:n.value)&&(null==n?void 0:n.value.toLowerCase())!==q.FROM))},{id:l.fC.WhereKeyword,name:l.fC.WhereKeyword,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.value.toLowerCase())===q.WHERE&&((null==n?void 0:n.isKeyword())||(null==n?void 0:n.is(l.iv.Parenthesis,"("))||(null==n?void 0:n.is(l.iv.Operator,q.AND))))},{id:l.fC.WhereComparisonOperator,name:l.fC.WhereComparisonOperator,resolve:(e,t,n,r)=>{var o;return Boolean((null==t?void 0:t.value.toLowerCase())===q.WHERE&&!(null==(o=null==n?void 0:n.getPreviousNonWhiteSpaceToken())?void 0:o.isOperator())&&!(null==e?void 0:e.is(l.iv.Delimiter,"."))&&!(null==e?void 0:e.isParenthesis())&&((null==n?void 0:n.isIdentifier())||(null==n?void 0:n.isDoubleQuotedString())))}},{id:l.fC.WhereValue,name:l.fC.WhereValue,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.value.toLowerCase())===q.WHERE&&(null==n?void 0:n.isOperator()))},{id:l.fC.AfterWhereValue,name:l.fC.AfterWhereValue,resolve:(e,t,n,r)=>{var o,a,i;return Boolean((null==t?void 0:t.value.toLowerCase())===q.WHERE&&((null==n?void 0:n.is(l.iv.Operator,"and"))||(null==n?void 0:n.is(l.iv.Operator,"or"))||(null==n?void 0:n.isString())||(null==n?void 0:n.isNumber())||(null==n?void 0:n.is(l.iv.Parenthesis,")"))||(null==n?void 0:n.is(l.iv.Parenthesis,"()"))||(null==n?void 0:n.isTemplateVariable())||(null==n?void 0:n.is(l.iv.IdentifierQuote))&&(null==(o=n.getPreviousNonWhiteSpaceToken())?void 0:o.is(l.iv.Identifier))&&(null==(i=null==(a=null==n?void 0:n.getPreviousNonWhiteSpaceToken())?void 0:a.getPreviousNonWhiteSpaceToken())?void 0:i.is(l.iv.IdentifierQuote))))}},{id:l.fC.AfterGroupByKeywords,name:l.fC.AfterGroupByKeywords,resolve:(e,t,n,r)=>{var o;return Boolean((null==t?void 0:t.is(l.iv.Keyword,q.BY))&&(null==(o=null==t?void 0:t.getPreviousKeyword())?void 0:o.is(l.iv.Keyword,q.GROUP))&&((null==n?void 0:n.is(l.iv.Keyword,q.BY))||(null==n?void 0:n.is(l.iv.Delimiter,","))))}},{id:l.fC.AfterGroupByFunctionArgument,name:l.fC.AfterGroupByFunctionArgument,resolve:(e,t,n,r)=>{var o;return Boolean((null==t?void 0:t.is(l.iv.Keyword,q.BY))&&(null==(o=null==t?void 0:t.getPreviousKeyword())?void 0:o.is(l.iv.Keyword,q.GROUP))&&((null==n?void 0:n.is(l.iv.Parenthesis,"("))||(null==e?void 0:e.is(l.iv.Parenthesis,"()"))))}},{id:l.fC.AfterOrderByKeywords,name:l.fC.AfterOrderByKeywords,resolve:(e,t,n,r)=>{var o;return Boolean((null==n?void 0:n.is(l.iv.Keyword,q.BY))&&(null==(o=null==n?void 0:n.getPreviousKeyword())?void 0:o.is(l.iv.Keyword,q.ORDER)))}},{id:l.fC.AfterOrderByFunction,name:l.fC.AfterOrderByFunction,resolve:(e,t,n,r)=>{var o,a;return Boolean((null==t?void 0:t.is(l.iv.Keyword,q.BY))&&(null==(o=null==t?void 0:t.getPreviousKeyword())?void 0:o.is(l.iv.Keyword,q.ORDER))&&(null==n?void 0:n.is(l.iv.Parenthesis))&&(null==(a=null==n?void 0:n.getPreviousNonWhiteSpaceToken())?void 0:a.is(l.iv.Function)))}},{id:l.fC.AfterOrderByDirection,name:l.fC.AfterOrderByDirection,resolve:(e,t,n,r)=>Boolean((null==t?void 0:t.is(l.iv.Keyword,q.DESC))||(null==t?void 0:t.is(l.iv.Keyword,q.ASC)))},{id:l.fC.AfterIsOperator,name:l.fC.AfterIsOperator,resolve:(e,t,n,r)=>Boolean(null==n?void 0:n.is(l.iv.Operator,"IS"))},{id:l.fC.AfterIsNotOperator,name:l.fC.AfterIsNotOperator,resolve:(e,t,n,r)=>{var o;return Boolean((null==n?void 0:n.is(l.iv.Operator,"NOT"))&&(null==(o=n.getPreviousNonWhiteSpaceToken())?void 0:o.is(l.iv.Operator,"IS")))}}]}let K={logger:()=>{}},U=()=>{};r.attachDebugger&&r.createLogger&&(K=(0,r.createLogger)("SQLEditor"),U=K.logger,(0,r.attachDebugger)("sqleditor",void 0,K));var W=n(76);const G={id:"standardSql",extensions:[".sql"],aliases:["sql"],mimetypes:[],loader:()=>Promise.resolve().then(n.bind(n,941)),completionProvider:W.h};var $=Object.defineProperty,V=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&z(e,n,t[n]);if(H)for(var n of H(t))J.call(t,n)&&z(e,n,t[n]);return e},Z=(e,t)=>V(e,Y(t));const ee=new Map,te=new Map,ne=({children:e,onBlur:t,onChange:n,query:i,language:l={id:"sql"},width:s,height:u})=>{const c=(0,o.useRef)(null),d=(0,o.useRef)(),f=(0,o.useMemo)((()=>{const e=F(),t=`${l.id}-${e}`;return d.current=t,t}),[l.id]);(0,o.useEffect)((()=>()=>{d.current&&te.delete(d.current),U(`Removing instance cache ${d.current}`,!1,te)}),[]);const p=(0,o.useCallback)((()=>{c.current&&c.current.getAction("editor.action.formatDocument").run()}),[]);return a().createElement("div",{style:{width:s}},a().createElement(r.CodeEditor,{height:u||"240px",width:s?s-2+"px":void 0,language:f,value:i,onBlur:e=>{n&&n(e,!1),t&&t()},showMiniMap:!1,showLineNumbers:!0,onEditorDidMount:(e,t)=>{c.current=e,e.onDidChangeModelContent((t=>{const r=e.getValue();n&&n(r,!1)})),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.Enter,(()=>{const t=e.getValue();n&&n(t,!0)})),e.onKeyUp((t=>{84===t.keyCode&&e.trigger(A.id,A.id,{})})),re(t,l,f)}}),e&&e({formatQuery:p}))},re=async(e,t,n)=>{const r=((e,t)=>{if("sql"!==(null==t?void 0:t.id)&&!t.loader){U(`Loading language '${null==t?void 0:t.id}' from Monaco registry`,!1);const n=e.languages.getLanguages().find((({id:e})=>e===(null==t?void 0:t.id)));if(!n)throw Error(`Unknown Monaco language ${null==t?void 0:t.id}`);return X(X({completionProvider:W.h},n),t)}return X(X({},G),t)})(e,t);if(!r.loader)return;const{language:o,conf:a}=await r.loader(e);if(e.languages.register({id:n}),e.languages.setMonarchTokensProvider(n,X({},o)),e.languages.setLanguageConfiguration(n,X({},a)),r.formatter&&e.languages.registerDocumentFormattingEditProvider(n,{provideDocumentFormattingEdits:e=>{var n;const r=null==(n=t.formatter)?void 0:n.call(t,e.getValue());return[{range:e.getFullModelRange(),text:r||""}]}}),r.completionProvider){const a=r.completionProvider(e,o);!function(e,t,n){var r;ee.has(e)||function(e){ee.has(e)||ee.set(e,{functions:new k.Registry,operators:new k.Registry,suggestionKinds:new k.Registry(O),positionResolvers:new k.Registry(B),macros:new k.Registry}),ee.get(e)}(e);const o=ee.get(e);te.has(t)||te.set(t,new k.Registry(j(o.functions,o.operators,o.macros)));const a=te.get(t);if(n.supportedFunctions)for(const e of n.supportedFunctions())o.functions.getIfExists(e.id)||o.functions.register(e);if(n.supportedOperators)for(const e of n.supportedOperators())o.operators.getIfExists(e.id)||o.operators.register(Z(X({},e),{name:e.id}));if(n.supportedMacros)for(const e of n.supportedMacros())o.macros.getIfExists(e.id)||o.macros.register(Z(X({},e),{name:e.id}));if(n.customStatementPlacement)for(const e of n.customStatementPlacement()){const t=o.positionResolvers.getIfExists(e.id);if(t){const n=t.resolve;t.resolve=(...t)=>{const r=e.resolve(...t);return e.overrideDefault?r:n(...t)||r}}else o.positionResolvers.register(Z(X({},e),{id:e.id,name:e.id})),o.suggestionKinds.register({id:e.id,name:e.id,kind:[]})}if(n.customSuggestionKinds)for(const e of n.customSuggestionKinds()){if(null==(r=e.applyTo)||r.forEach((t=>{const n=o.suggestionKinds.getIfExists(t);n&&-1===n.kind.indexOf(e.id)&&n.kind.push(e.id)})),e.overrideDefault){const t=a.get(e.id);if(void 0!==t){t.suggestions=e.suggestionsResolver;continue}}a.register({id:e.id,name:e.id,suggestions:e.suggestionsResolver})}if(n.schemas){const e=a.get(l.is.Schemas),t=e.suggestions;e.suggestions=async(e,r)=>{const o=await t(e,r);if(!n.schemas)return[...o];const a=(await n.schemas.resolve()).map((e=>{var t;return{label:e.name,insertText:`${null!=(t=e.completion)?t:e.name}.`,command:A,kind:l.cm.Module,sortText:l.G8.High}}));return[...o,...a]}}if(n.tables){const e=a.get(l.is.Tables),t=e.suggestions;e.suggestions=async(e,r)=>{var o,a,i,s,u;const c=await t(e,r),d=S(e.currentToken),f=(null!=(a=null==(o=n.tables)?void 0:o.parseName)?a:C)(d);return[...c,...(null!=(u=await(null==(s=null==(i=n.tables)?void 0:i.resolve)?void 0:s.call(i,f)))?u:[]).map((e=>{var t;return{label:e.name,insertText:`${null!=(t=e.completion)?t:e.name}${e.completion===e.name?" $0":""}`,insertTextRules:l.a7.InsertAsSnippet,command:A,kind:l.cm.Field,sortText:l.G8.MediumHigh}}))]}}if(n.columns){const e=a.get(l.is.Columns),t=e.suggestions;e.suggestions=async(e,r)=>{var o,a,i;const s=await t(e,r),u=S(e.currentToken);let c;const d=null!=(a=null==(o=n.tables)?void 0:o.parseName)?a:C;u&&u.value&&(c=d(u));let f=[];if(c){const e=await(null==(i=n.columns)?void 0:i.resolve(c));f=e?e.map((e=>{var t;return{label:e.name,insertText:null!=(t=e.completion)?t:e.name,kind:l.cm.Field,sortText:l.G8.High,detail:e.type,documentation:e.description}})):[]}return[...s,...f]}}}(t.id,n,a);const s=ee.get(t.id),u=te.get(n),c=async(t,r,o,a)=>{const l=(0,T.E)(e,t,r,n),c=(0,i.r)(l,s.positionResolvers),d=function(e,t){let n=[];for(let r=0;r<e.length;r++){const o=t.getIfExists(e[r]);o&&(n=n.concat(o.kind))}return n}(c,s.suggestionKinds);U("Statement position",!1,c),U("Suggestion kinds",!1,d);const f={position:r,currentToken:l,statementPosition:c,kind:d,range:e.Range.fromPositions(r)},g=await(async(e,t,n,r,o)=>{let a=[];const i=(null==t?void 0:t.isWhiteSpace())||(null==t?void 0:t.isParenthesis())||(null==t?void 0:t.isIdentifier())&&t.value.endsWith(".")||!(null==t?void 0:t.range)?e.Range.fromPositions(r.position):null==t?void 0:t.range;for(const t of[...new Set(n)]){const n=o.getIfExists(t);if(n){const t=await n.suggestions((l=w({},r),s={range:i},m(l,y(s))),e);a=[...a,...t.map((e=>p(e.label,i,w({kind:e.kind},e))))]}}var l,s;return Promise.resolve(a)})(e,l,d,f,u);return{suggestions:g}};e.languages.registerCompletionItemProvider(n,Z(X({},a),{provideCompletionItems:c}))}}},143:(e,t,n)=>{n.d(t,{r:()=>o});var r=n(172);function o(e,t){var n;const o=null==e?void 0:e.getPreviousNonWhiteSpaceToken(),a=null==e?void 0:e.getPreviousKeyword(),i=null==(n=null==e?void 0:e.getPreviousNonWhiteSpaceToken())?void 0:n.is(r.iv.Operator,"/"),l=t.list(),s=[];for(const t of l)t.resolve(e,null!=a?a:null,null!=o?o:null,Boolean(i))&&s.push(t.id);return 0===s.length?[r.fC.Unknown]:s}},941:(e,t,n)=>{n.r(t),n.d(t,{AND:()=>m,AS:()=>p,ASC:()=>c,BY:()=>s,COMPARISON_OPERATORS:()=>E,DESC:()=>u,EQUALS:()=>b,FROM:()=>o,GROUP:()=>i,LIMIT:()=>d,LOGICAL_OPERATORS:()=>h,NOT_EQUALS:()=>v,OR:()=>y,ORDER:()=>l,SCHEMA:()=>g,SELECT:()=>r,STD_OPERATORS:()=>w,WHERE:()=>a,WITH:()=>f,conf:()=>O,language:()=>T});const r="select",o="from",a="where",i="group",l="order",s="by",u="desc",c="asc",d="limit",f="with",p="as",g="schema",m="AND",y="OR",h=[m,y],b="=",v="!=",E=[b,v],w=[...E],O={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},T={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ABORT","ABSOLUTE","ACTION","ADA","ADD","AFTER","ALL","ALLOCATE","ALTER","ALWAYS","ANALYZE","AND","ANY","ARE","AS","ASC","ASSERTION","AT","ATTACH","AUTHORIZATION","AUTOINCREMENT","AVG","BACKUP","BEFORE","BEGIN","BETWEEN","BIT","BIT_LENGTH","BOTH","BREAK","BROWSE","BULK","BY","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLLATION","COLUMN","COMMIT","COMPUTE","CONFLICT","CONNECT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CORRESPONDING","COUNT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATE","DAY","DBCC","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DETACH","DIAGNOSTICS","DISCONNECT","DISK","DISTINCT","DISTRIBUTED","DO","DOMAIN","DOUBLE","DROP","DUMP","EACH","ELSE","END","END-EXEC","ERRLVL","ESCAPE","EXCEPT","EXCEPTION","EXCLUDE","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTERNAL","EXTRACT","FAIL","FALSE","FETCH","FILE","FILLFACTOR","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FOREIGN","FORTRAN","FOUND","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GENERATED","GET","GLOB","GLOBAL","GO","GOTO","GRANT","GROUP","GROUPS","HAVING","HOLDLOCK","HOUR","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IGNORE","IMMEDIATE","IN","INCLUDE","INDEX","INDEXED","INDICATOR","INITIALLY","INNER","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","ISOLATION","JOIN","KEY","KILL","LANGUAGE","LAST","LEADING","LEFT","LEVEL","LIKE","LIMIT","LINENO","LOAD","LOCAL","LOWER","MATCH","MATERIALIZED","MAX","MERGE","MIN","MINUTE","MODULE","MONTH","NAMES","NATIONAL","NATURAL","NCHAR","NEXT","NO","NOCHECK","NONCLUSTERED","NONE","NOT","NOTHING","NOTNULL","NULL","NULLIF","NULLS","NUMERIC","OCTET_LENGTH","OF","OFF","OFFSET","OFFSETS","ON","ONLY","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OTHERS","OUTER","OUTPUT","OVER","OVERLAPS","PAD","PARTIAL","PARTITION","PASCAL","PERCENT","PIVOT","PLAN","POSITION","PRAGMA","PRECEDING","PRECISION","PREPARE","PRESERVE","PRIMARY","PRINT","PRIOR","PRIVILEGES","PROC","PROCEDURE","PUBLIC","QUERY","RAISE","RAISERROR","RANGE","READ","READTEXT","REAL","RECONFIGURE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELATIVE","RELEASE","RENAME","REPLACE","REPLICATION","RESTORE","RESTRICT","RETURN","RETURNING","REVERT","REVOKE","RIGHT","ROLLBACK","ROW","ROWCOUNT","ROWGUIDCOL","ROWS","RULE","SAVE","SAVEPOINT","SCHEMA","SCROLL","SECOND","SECTION","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION","SESSION_USER","SET","SETUSER","SHUTDOWN","SIZE","SMALLINT","SOME","SPACE","SQL","SQLCA","SQLCODE","SQLERROR","SQLSTATE","SQLWARNING","STATISTICS","SUBSTRING","SUM","SYSTEM_USER","TABLE","TABLESAMPLE","TEMP","TEMPORARY","TEXTSIZE","THEN","TIES","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TOP","TRAILING","TRAN","TRANSACTION","TRANSLATE","TRANSLATION","TRIGGER","TRIM","TRUE","TRUNCATE","TRY_CONVERT","TSEQUAL","UNBOUNDED","UNION","UNIQUE","UNKNOWN","UNPIVOT","UPDATE","UPDATETEXT","UPPER","USAGE","USE","USER","USING","VACUUM","VALUE","VALUES","VARCHAR","VARYING","VIEW","VIRTUAL","WAITFOR","WHEN","WHENEVER","WHERE","WHILE","WINDOW","WITH","WITHIN GROUP","WITHOUT","WORK","WRITE","WRITETEXT","YEAR","ZONE"],operators:["EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED"],logicalOperators:["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME"],comparisonOperators:["<>",">","<",">=","<=","=","!=","&","~","^","%"],builtinFunctions:["AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","SUM","STDEV","STDEVP","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","COLLATE","COLLATIONPROPERTY","TERTIARY_WEIGHTS","FEDERATION_FILTERING_VALUE","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","CURRENT_TIMESTAMP","DATEADD","DATEDIFF","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","CHOOSE","COALESCE","IIF","NULLIF","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASE_PRINCIPAL_ID","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STUFF","SUBSTRING","UNICODE","UPPER","BINARY_CHECKSUM","CHECKSUM","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","ERROR_LINE","ERROR_NUMBER","ERROR_MESSAGE","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GETANSINULL","GET_FILESTREAM_TRANSACTION_CONTEXT","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","XACT_STATE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","CHANGETABLE","CHANGE_TRACKING_CONTEXT","CHANGE_TRACKING_CURRENT_VERSION","CHANGE_TRACKING_IS_COLUMN_IN_MASK","CHANGE_TRACKING_MIN_VALID_VERSION","CONTAINSTABLE","FREETEXTTABLE","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","FILETABLEROOTPATH","GETFILENAMESPACEPATH","GETPATHLOCATOR","PATHNAME","GET_TRANSMISSION_STATUS"],builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@templateVariables"},{include:"@macros"},{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},{include:"@schemaTable"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$|<|>|=|!|%|&|+|\|-|*|/|~|^]+/,{cases:{"@operators":"operator","@comparisonOperators":"operator","@logicalOperators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}]],templateVariables:[[/\$[a-zA-Z0-9]+/,"variable"]],macros:[[/\$__[a-zA-Z0-9-_]+/,"type"]],schemaTable:[[/(\w+)\./,"identifier"],[/(\w+\.\w+)/,"identifier"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}}},76:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(172);const o="column",a=[{id:"$__timeFilter(dateColumn)",name:"$__timeFilter(dateColumn)",text:"$__timeFilter",args:[o],type:r.mB.Filter,description:"Will be replaced by a time range filter using the specified column name. For example, dateColumn BETWEEN FROM_UNIXTIME(1494410783) AND FROM_UNIXTIME(1494410983)"},{id:"$__timeFrom()",name:"$__timeFrom()",text:"$__timeFrom",args:[],type:r.mB.Filter,description:"Will be replaced by the start of the currently active time selection. For example, FROM_UNIXTIME(1494410783)"},{id:"$__timeTo()",name:"$__timeTo()",text:"$__timeTo",args:[],type:r.mB.Filter,description:"Will be replaced by the end of the currently active time selection. For example, FROM_UNIXTIME(1494410983)"},{id:"$__timeGroup(dateColumn, '5m')",name:"$__timeGroup(dateColumn, '5m')",text:"$__timeGroup",args:[o,"'5m'"],type:r.mB.Value,description:"Will be replaced by an expression usable in GROUP BY clause. For example, *cast(cast(UNIX_TIMESTAMP(dateColumn)/(300) as signed)*300 as signed),*"},{id:"$__table",name:"$__table",text:"$__table",args:[],type:r.mB.Table,description:"Will be replaced by the query table."},{id:"$__column",name:"$__column",text:"$__column",args:[],type:r.mB.Column,description:"Will be replaced by the query column."}];function i(e,t){var n,o,i;const l={triggerCharacters:["."," ","$",",","(","'"]};t&&Array.isArray(t.builtinFunctions)&&(l.supportedFunctions=()=>t.builtinFunctions.map((e=>({id:e,name:e}))));const s=[];return(null==(n=null==t?void 0:t.comparisonOperators)?void 0:n.length)&&s.push(...t.comparisonOperators.map((e=>({id:e.toLocaleLowerCase(),operator:e,type:r.$M.Comparison})))),t.logicalOperators=null!=(o=t.logicalOperators)?o:t.operators,(null==(i=null==t?void 0:t.logicalOperators)?void 0:i.length)&&s.push(...t.logicalOperators.map((e=>({id:e.toLocaleLowerCase(),operator:e,type:r.$M.Logical})))),l.supportedOperators=()=>s,l.supportedMacros=()=>a,l}},172:(e,t,n)=>{n.d(t,{$M:()=>r,G8:()=>s,a7:()=>c,cm:()=>u,fC:()=>i,is:()=>l,iv:()=>a,je:()=>d,mB:()=>o});var r=(e=>(e[e.Comparison=0]="Comparison",e[e.Logical=1]="Logical",e))(r||{}),o=(e=>(e[e.Value=0]="Value",e[e.Filter=1]="Filter",e[e.Group=2]="Group",e[e.Column=3]="Column",e[e.Table=4]="Table",e))(o||{}),a=(e=>(e.Parenthesis="delimiter.parenthesis.sql",e.Whitespace="white.sql",e.Keyword="keyword.sql",e.Delimiter="delimiter.sql",e.Operator="operator.sql",e.Identifier="identifier.sql",e.IdentifierQuote="identifier.quote.sql",e.Type="type.sql",e.Function="predefined.sql",e.Number="number.sql",e.String="string.sql",e.Variable="variable.sql",e))(a||{}),i=(e=>(e.Unknown="unknown",e.SelectKeyword="selectKeyword",e.WithKeyword="withKeyword",e.AfterSelectKeyword="afterSelectKeyword",e.AfterSelectArguments="afterSelectArguments",e.AfterSelectFuncFirstArgument="afterSelectFuncFirstArgument",e.SelectAlias="selectAlias",e.AfterFromKeyword="afterFromKeyword",e.AfterTable="afterTable",e.SchemaFuncFirstArgument="schemaFuncFirstArgument",e.SchemaFuncExtraArgument="schemaFuncExtraArgument",e.FromKeyword="fromKeyword",e.AfterFrom="afterFrom",e.WhereKeyword="whereKeyword",e.WhereComparisonOperator="whereComparisonOperator",e.WhereValue="whereValue",e.AfterWhereFunctionArgument="afterWhereFunctionArgument",e.AfterGroupByFunctionArgument="afterGroupByFunctionArgument",e.AfterWhereValue="afterWhereValue",e.AfterGroupByKeywords="afterGroupByKeywords",e.AfterGroupBy="afterGroupBy",e.AfterOrderByKeywords="afterOrderByKeywords",e.AfterOrderByFunction="afterOrderByFunction",e.AfterOrderByDirection="afterOrderByDirection",e.AfterIsOperator="afterIsOperator",e.AfterIsNotOperator="afterIsNotOperator",e.AfterSchema="afterSchema",e))(i||{}),l=(e=>(e.Schemas="schemas",e.Tables="tables",e.Columns="columns",e.SelectKeyword="selectKeyword",e.WithKeyword="withKeyword",e.FunctionsWithArguments="functionsWithArguments",e.FromKeyword="fromKeyword",e.WhereKeyword="whereKeyword",e.GroupByKeywords="groupByKeywords",e.OrderByKeywords="orderByKeywords",e.FunctionsWithoutArguments="functionsWithoutArguments",e.LimitKeyword="limitKeyword",e.SortOrderDirectionKeyword="sortOrderDirectionKeyword",e.ComparisonOperators="comparisonOperators",e.LogicalOperators="logicalOperators",e.SelectMacro="selectMacro",e.TableMacro="tableMacro",e.FilterMacro="filterMacro",e.GroupMacro="groupMacro",e.BoolValues="boolValues",e.NullValue="nullValue",e.NotKeyword="notKeyword",e.TemplateVariables="templateVariables",e.StarWildCard="starWildCard",e))(l||{}),s=(e=>(e.High="a",e.MediumHigh="d",e.Medium="g",e.MediumLow="k",e.Low="q",e))(s||{}),u=(e=>(e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet",e))(u||{}),c=(e=>(e[e.KeepWhitespace=1]="KeepWhitespace",e[e.InsertAsSnippet=4]="InsertAsSnippet",e))(c||{}),d=(e=>(e.Builder="builder",e.Code="code",e))(d||{})},268:(e,t,n)=>{n.d(t,{U:()=>o});var r=n(172);class o{constructor(e,t,n,r,o){this.type=e,this.value=t,this.range=n,this.previous=r,this.next=o}isKeyword(){return this.type===r.iv.Keyword}isWhiteSpace(){return this.type===r.iv.Whitespace}isParenthesis(){return this.type===r.iv.Parenthesis}isIdentifier(){return this.type===r.iv.Identifier}isString(){return this.type===r.iv.String}isNumber(){return this.type===r.iv.Number}isDoubleQuotedString(){return this.type===r.iv.Type}isVariable(){return this.type===r.iv.Variable}isFunction(){return this.type===r.iv.Function}isOperator(){return this.type===r.iv.Operator}isTemplateVariable(){return this.type===r.iv.Variable}is(e,t){const n=this.type===e;return void 0!==t?n&&a(e,this,t):n}getPreviousNonWhiteSpaceToken(){let e=this.previous;for(;null!=e;){if(!e.isWhiteSpace())return e;e=e.previous}return null}getPreviousOfType(e,t){let n=this.previous;for(;null!=n;){const r=n.type===e;if(void 0!==t?r&&a(e,n,t):r)return n;n=n.previous}return null}getPreviousUntil(e,t,n){let r=[],o=this.previous;for(;null!=o;){if(t.some((e=>e===(null==o?void 0:o.type)))){o=o.previous;continue}const i=o.type===e;if(void 0!==n?i&&a(e,o,n):i)return r;o.isWhiteSpace()||r.push(o),o=o.previous}return r}getNextUntil(e,t,n){let r=[],o=this.next;for(;null!=o;){if(t.some((e=>e===(null==o?void 0:o.type)))){o=o.next;continue}const i=o.type===e;if(void 0!==n?i&&a(e,o,n):i)return r;o.isWhiteSpace()||r.push(o),o=o.next}return r}getPreviousKeyword(){let e=this.previous;for(;null!=e;){if(e.isKeyword())return e;e=e.previous}return null}getNextNonWhiteSpaceToken(){let e=this.next;for(;null!=e;){if(!e.isWhiteSpace())return e;e=e.next}return null}getNextOfType(e,t){let n=this.next;for(;null!=n;){const r=n.type===e;if(void 0!==t?r&&a(e,n,t):r)return n;n=n.next}return null}}function a(e,t,n){return e===r.iv.Keyword||e===r.iv.Operator?t.value.toLowerCase()===n.toString().toLowerCase():t.value===n}},190:(e,t,n)=>{n.d(t,{E:()=>a});var r=n(172),o=n(268);function a(e,t,n,a="sql"){var i;let l=null,s=null;const u=e.editor.tokenize(null!=(i=t.getValue())?i:"",a);for(let i=0;i<u.length;i++){const c=u[i];if(!c.length&&s){const e={offset:0,type:r.iv.Whitespace,language:a,_tokenBrand:void 0};c.push(e)}for(let r=0;r<c.length;r++){const a=c[r];let u=c.length>r+1?c[r+1].offset+1:t.getLineLength(i+1)+1;const d={startLineNumber:i+1,startColumn:0===a.offset?0:a.offset+1,endLineNumber:i+1,endColumn:u},f=t.getValueInRange(d),p=new o.U(a.type,f,d,s,null);e.Range.containsPosition(d,n)&&(l=p),s&&(s.next=p),s=p}}return l}},644:e=>{e.exports=r},305:t=>{t.exports=e},545:e=>{e.exports=t},388:e=>{e.exports=o},980:e=>{e.exports=i},650:e=>{e.exports=n},177:e=>{e.exports=a},556:(e,t,n)=>{n.r(t),n.d(t,{__addDisposableResource:()=>x,__assign:()=>a,__asyncDelegator:()=>S,__asyncGenerator:()=>q,__asyncValues:()=>C,__await:()=>T,__awaiter:()=>g,__classPrivateFieldGet:()=>_,__classPrivateFieldIn:()=>D,__classPrivateFieldSet:()=>N,__createBinding:()=>y,__decorate:()=>l,__disposeResources:()=>k,__esDecorate:()=>u,__exportStar:()=>h,__extends:()=>o,__generator:()=>m,__importDefault:()=>P,__importStar:()=>I,__makeTemplateObject:()=>A,__metadata:()=>p,__param:()=>s,__propKey:()=>d,__read:()=>v,__rest:()=>i,__runInitializers:()=>c,__setFunctionName:()=>f,__spread:()=>E,__spreadArray:()=>O,__spreadArrays:()=>w,__values:()=>b,default:()=>L});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function l(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function s(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,o,a){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,s=r.kind,u="getter"===s?"get":"setter"===s?"set":"value",c=!t&&e?r.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f=!1,p=n.length-1;p>=0;p--){var g={};for(var m in r)g[m]="access"===m?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var y=(0,n[p])("accessor"===s?{get:d.get,set:d.set}:d[u],g);if("accessor"===s){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(l=i(y.get))&&(d.get=l),(l=i(y.set))&&(d.set=l),(l=i(y.init))&&o.unshift(l)}else(l=i(y))&&("field"===s?o.unshift(l):d[u]=l)}c&&Object.defineProperty(c,r.name,d),f=!0}function c(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function f(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function g(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}var y=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)r[o]=a[i];return r}function O(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function q(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{(n=o[e](t)).value instanceof T?Promise.resolve(n.value.v).then(s,u):c(a[0][2],n)}catch(e){c(a[0][3],e)}var n}function s(e){l("next",e)}function u(e){l("throw",e)}function c(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:T(e[r](t)),done:!1}:o?o(t):t}:o}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=b(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var R=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&y(t,e,n);return R(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function D(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function x(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var F="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function k(e){function t(t){e.error=e.hasError?new F(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const L={__extends:o,__assign:a,__rest:i,__decorate:l,__param:s,__metadata:p,__awaiter:g,__generator:m,__createBinding:y,__exportStar:h,__values:b,__read:v,__spread:E,__spreadArrays:w,__spreadArray:O,__await:T,__asyncGenerator:q,__asyncDelegator:S,__asyncValues:C,__makeTemplateObject:A,__importStar:I,__importDefault:P,__classPrivateFieldGet:_,__classPrivateFieldSet:N,__classPrivateFieldIn:D,__addDisposableResource:x,__disposeResources:k}}},s={};function u(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return l[e](n,n.exports,u),n.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{u.r(c),u.d(c,{plugin:()=>fe});var e,t=u(305),n=u(545),r=u(650),o=u.n(r),a=u(644);!function(e){e[e.TimeSeries=0]="TimeSeries",e[e.Table=1]="Table",e[e.Logs=2]="Logs"}(e||(e={}));const i=[{label:"Time Series",value:e.TimeSeries},{label:"Table",value:e.Table},{label:"Logs",value:e.Logs}],l="__default",s=!1,d=60,f={format:e.Table,rawSQL:"",connectionArgs:{region:l,catalog:l,database:l,resultReuseEnabled:s,resultReuseMaxAgeInMinutes:d}};var p=u(388),g=u(569);const m={components:{ConfigEditor:{AuthenticationProvider:{input:"Authentication Provider"},SecretKey:{input:"Secret Access Key"},AccessKey:{input:"Access Key ID"},DefaultRegion:{input:"Default Region"},catalog:{input:"Data source",wrapper:"data-testid onloadcatalog"},database:{input:"Database",wrapper:"data-testid onloaddatabase"},workgroup:{input:"Workgroup",wrapper:"data-testid onloadworkgroup"},OutputLocation:{input:"Output Location",wrapper:"data-testid onloadoutputlocation"},region:{input:"Region",wrapper:"data-testid onloadregion"},table:{input:"Table",wrapper:"data-testid onloadtable"},column:{input:"Column",wrapper:"data-testid onloadcolumn"}},QueryEditor:{CodeEditor:{container:"Code editor container"},TableView:{input:"toggle-table-view"}},RefreshPicker:{runButton:"RefreshPicker run button"}}},y=(e,t)=>[...t,{label:"Template Variables",options:e.map((e=>({label:e,value:e})))}];var h=u(565),b=u(76),v=u(172);const E="column",w="'1m'",O="'yyyy-MM-dd HH:mm:ss'",T="$__table",q=[{id:"$__dateFilter(dateColumn)",name:"$__dateFilter(dateColumn)",text:"$__dateFilter",args:[E],type:v.mB.Filter,description:"Will be replaced by a date range filter using the specified column name. For example, time BETWEEN date '2017-07-18' AND date '2017-07-18'"},{id:"$__timeFilter(timeColumn)",name:"$__timeFilter(timeColumn)",text:"$__timeFilter",args:[E],type:v.mB.Filter,description:"Will be replaced by a time range filter using the specified column name. For example, time BETWEEN TIMESTAMP '2017-07-18 11:15:52' AND TIMESTAMP '2017-07-18 11:25:52'"},{id:"$__timeFilter(timeColumn, timeFormat)",name:"$__timeFilter(timeColumn, timeFormat)",text:"$__timeFilter",args:[E,O],type:v.mB.Filter,description:"Will be replaced by a time range filter using the specified column name and the specified time format. For example, time parse_datetime(time,'yyyy-MM-dd''T''HH:mm:ss''+0000') BETWEEN TIMESTAMP '2017-07-18 11:15:52' AND TIMESTAMP '2017-07-18 11:25:52'"},{id:"$__timeFrom()",name:"$__timeFrom()",text:"$__timeFrom",args:[],type:v.mB.Filter,description:"Will be replaced by the start of the currently active time selection. For example, TIMESTAMP '2017-07-18 11:15:52'"},{id:"$__rawTimeFrom",name:"$__rawTimeFrom",text:"$__rawTimeFrom",args:[],type:v.mB.Filter,description:"Will return the current starting time of the time range"},{id:"$__rawTimeFrom(FORMAT)",name:"$__rawTimeFrom(FORMAT)",text:"$__rawTimeFrom(FORMAT)",args:[O],type:v.mB.Filter,description:"Will return the current starting time of the time range. Use second argument to specify time format."},{id:"$__timeTo()",name:"$__timeTo()",text:"$__timeTo",args:[],type:v.mB.Filter,description:"Will be replaced by the end of the currently active time selection. For example, '2017-07-18T11:15:52Z'"},{id:"$__rawTimeTo",name:"$__rawTimeTo",text:"$__rawTimeTo",args:[],type:v.mB.Filter,description:"Will return the current ending time of the time range"},{id:"$__rawTimeTo(FORMAT)",name:"$__rawTimeTo(FORMAT)",text:"$__rawTimeTo(FORMAT)",args:[O],type:v.mB.Filter,description:"Will return the current ending time of the time range. Use second argument to specify time format."},{id:"$__unixEpochFilter()",name:"$__unixEpochFilter()",text:"$__unixEpochFilter",args:[E],type:v.mB.Filter,description:"Will be replaced by a time range filter using the specified column name with times represented as Unix timestamp. For example, column >= 1624406400 AND column <= 1624410000"},{id:"$__timeGroup(dateColumn, '1m')",name:"$__timeGroup(dateColumn, '1m')",text:"$__timeGroup(dateColumn, '1m')",args:[E,w],type:v.mB.Group,description:"Will be replace by an expression that will group timestamps so that there is only 1 point for every period on the graph. For example, 'floor(extract(epoch from time)/60)*60 AS \"time\"'"},{id:"$__timeGroup(dateColumn, '1m', FORMAT)",name:"$__timeGroup(dateColumn, '1m', FORMAT)",text:"$__timeGroup",args:[E,w,O],type:v.mB.Group,description:"Will be replace by an expression that will group timestamps so that there is only 1 point for every period on the graph. The third argument is used to optionally parse the column from a varchar to a timestamp with a specific format. For example, FROM_UNIXTIME(FLOOR(TO_UNIXTIME(parse_datetime(time,'yyyy-MM-dd''T''HH:mm:ss.SSSSSS''Z'))/300)*300)"},{id:"$__unixEpochGroup(dateColumn, '1m')",name:"$__unixEpochGroup(dateColumn, '1m')",text:"$__unixEpochGroup(dateColumn, '1m')",args:[E,w],type:v.mB.Group,description:"Will be replace by an expression that will group epoch timestamps so that there is only 1 point for every period on the graph. For example, 'floor(time/60)*60 AS \"time\"'"},{id:"$__column",name:"$__column",text:"$__column",args:[],type:v.mB.Column,description:"Will be replaced by the query column."},{id:T,name:T,text:T,args:[],type:v.mB.Table,description:"Will be replaced by the query table."},{id:"$__parseTime",name:"$__parseTime",text:"$__parseTime",args:[E,O],type:v.mB.Value,description:"Will cast a varchar as a timestamp using the provided format."}];function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=({getTables:e,getColumns:t})=>(n,r)=>{var o,a,i;return a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},r&&(0,b.h)(n,r)),i=null!=(i={triggerCharacters:["."," ","$",",","(","'"],tables:{resolve:e},columns:{resolve:e=>t(null!==(o=null==e?void 0:e.table)&&void 0!==o?o:"")},supportedMacros:()=>q})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(i)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})),a};function A(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){A(a,r,o,i,l,"next",e)}function l(e){A(a,r,o,i,l,"throw",e)}i(void 0)}))}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function N({query:e,datasource:t,onRunQuery:n,onChange:a}){const i=(0,r.useRef)(e);(0,r.useEffect)((()=>{i.current=e}),[e]);const l=(0,r.useCallback)(R((function*(){return(yield t.getTables(i.current).catch((()=>[]))).map((e=>({name:e,completion:e})))})),[t]),s=(0,r.useCallback)((u=R((function*(e){var n;return(yield t.getColumns(_(P({},i.current),{table:e?e.replace(T,null!==(n=i.current.table)&&void 0!==n?n:""):i.current.table})).catch((()=>[]))).map((e=>({name:e,completion:e})))})),function(e){return u.apply(this,arguments)}),[t]);var u;const c=(0,r.useMemo)((()=>C({getTables:l,getColumns:s})),[l,s]);return o().createElement(h.i,{query:e.rawSQL,onChange:e=>a(_(P({},i.current),{rawSQL:e})),language:{id:"sql",completionProvider:c}})}var D=u(844);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function k(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const L=({enabled:e,onChange:t,query:n,newFormStylingEnabled:r})=>{const{connectionArgs:{resultReuseEnabled:i=s,resultReuseMaxAgeInMinutes:l=d}={}}=n,u=e=>{const{checked:r}=e.currentTarget;t(k(F({},n),{connectionArgs:k(F({},n.connectionArgs),{resultReuseEnabled:r})}))},c=e=>{const{value:r}=e.currentTarget;t(k(F({},n),{connectionArgs:k(F({},n.connectionArgs),{resultReuseMaxAgeInMinutes:Number(r)})}))},f=l<0||l>10080;return o().createElement(o().Fragment,null,r?o().createElement("div",{className:(0,a.css)({display:"flex"})},o().createElement(D.S,{className:"width-5",disabled:!e,label:"Enable",htmlFor:"query-result-reuse-toggle"},o().createElement(p.Switch,{id:"query-result-reuse-toggle",value:i&&e,onChange:u})),o().createElement(D.S,{className:"width-10",disabled:!e,invalid:f,label:"TTL (mins)",htmlFor:"query-result-reuse-ttl",tooltip:"The maximum age for reusing query results in minutes. Minimum 0, maximum 10080."},o().createElement(p.Input,{id:"query-result-reuse-ttl",min:0,max:10080,onChange:c,onBlur:c,type:"number",value:l}))):o().createElement(o().Fragment,null,o().createElement(p.InlineField,{labelWidth:13,disabled:!e,label:"Enable","aria-label":"Enable query result reuse"},o().createElement(p.Checkbox,{id:"query-result-reuse-toggle",onChange:u,value:i&&e})),o().createElement(p.InlineField,{labelWidth:13,disabled:!e,invalid:f,label:"TTL (mins)","aria-label":"Max age in minutes",tooltip:"The maximum age for reusing query results in minutes. Minimum 0, maximum 10080."},o().createElement(p.Input,{id:"query-result-reuse-ttl",className:"width-11",min:0,max:10080,onChange:c,onBlur:c,type:"number",value:l}))))};var j=u(544),M=u(888),B=u(489);function K(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function $(e){var t;const[a,l]=(0,r.useState)(!1),s=(0,p.useStyles2)(V),u=n.config.featureToggles.awsDatasourcesNewFormStyling;(0,r.useEffect)((()=>{const t=(n=function*(){l(yield e.datasource.isResultReuseSupported())},r=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){K(a,r,o,i,l,"next",e)}function l(e){K(a,r,o,i,l,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)});var n,r;t()}),[e.datasource]);const c=G(W({},f,e.query),{connectionArgs:W({},f.connectionArgs,e.query.connectionArgs)});(0,r.useEffect)((()=>{e.onChange(c)}),[]);const d=e.datasource.getVariables(),h=()=>e.datasource.getRegions().then((e=>y(d,e))),b=()=>e.datasource.getCatalogs(c).then((e=>y(d,e))),v=()=>e.datasource.getDatabases(c).then((e=>y(d,e))),E=()=>e.datasource.getTables(c).then((e=>y(d,e))),w=()=>e.datasource.getColumns(c).then((e=>y(d,e))),O=t=>n=>{const r=W({},e.query),o=null==n?void 0:n.value;switch(t){case"regions":r.connectionArgs=G(W({},r.connectionArgs),{region:o});break;case"catalogs":r.connectionArgs=G(W({},r.connectionArgs),{catalog:o});break;case"databases":r.connectionArgs=G(W({},r.connectionArgs),{database:o});break;case"tables":r.table=o;break;case"columns":r.column=o}e.onChange(r)};var T,q,S,C,A,R;return o().createElement(o().Fragment,null,u?o().createElement(j._,null,o().createElement(M.p,null,o().createElement(B.s,null,o().createElement(D.S,{width:15,label:m.components.ConfigEditor.region.input,"data-testid":m.components.ConfigEditor.region.wrapper,htmlFor:"regions"},o().createElement(g.Nw,{id:"regions",onChange:O("regions"),fetch:h,value:null!==(T=c.connectionArgs.region)&&void 0!==T?T:null,default:e.datasource.defaultRegion,label:m.components.ConfigEditor.region.input,newFormStylingEnabled:!0})),o().createElement(D.S,{width:15,label:m.components.ConfigEditor.catalog.input,"data-testid":m.components.ConfigEditor.catalog.wrapper,htmlFor:"catalogs"},o().createElement(g.Nw,{id:"catalogs",onChange:O("catalogs"),fetch:b,value:null!==(q=c.connectionArgs.catalog)&&void 0!==q?q:null,default:e.datasource.defaultCatalog,dependencies:[c.connectionArgs.region],label:m.components.ConfigEditor.catalog.input,newFormStylingEnabled:!0}))),o().createElement(B.s,null,o().createElement(D.S,{width:20,label:m.components.ConfigEditor.database.input,"data-testid":m.components.ConfigEditor.database.wrapper,htmlFor:"databases"},o().createElement(g.Nw,{id:"databases",onChange:O("databases"),fetch:v,value:null!==(S=c.connectionArgs.database)&&void 0!==S?S:null,default:e.datasource.defaultDatabase,dependencies:[c.connectionArgs.catalog],label:m.components.ConfigEditor.database.input,newFormStylingEnabled:!0})),o().createElement(D.S,{width:20,label:m.components.ConfigEditor.table.input,"data-testid":m.components.ConfigEditor.table.wrapper,tooltip:"Use the selected table with the $__table macro",htmlFor:"tables"},o().createElement(g.Nw,{id:"tables",onChange:O("tables"),fetch:E,value:e.query.table||null,dependencies:[c.connectionArgs.database],label:m.components.ConfigEditor.table.input,newFormStylingEnabled:!0})),o().createElement(D.S,{width:20,label:m.components.ConfigEditor.column.input,"data-testid":m.components.ConfigEditor.column.wrapper,tooltip:"Use the selected column with the $__column macro",htmlFor:"columns"},o().createElement(g.Nw,{id:"columns",label:m.components.ConfigEditor.column.input,onChange:O("columns"),fetch:w,value:e.query.column||null,dependencies:[c.table],newFormStylingEnabled:!0}))),!e.hideOptions&&o().createElement(B.s,null,o().createElement(D.S,{label:"Format data frames as",htmlFor:"formatAs",width:20},o().createElement(g.vZ,{newFormStylingEnabled:!0,id:"formatAs",query:e.query,options:i,onChange:e.onChange})))),o().createElement(M.p,null,o().createElement("div",{className:s.collapseRow},o().createElement(p.CollapsableSection,{className:s.collapse,label:o().createElement("p",{className:s.collapseTitle},"Query result reuse"," ",!a&&o().createElement("span",{className:s.optional},"(engine version 3 only)")),isOpen:!!(null===(t=e.query.connectionArgs)||void 0===t?void 0:t.resultReuseEnabled)},o().createElement(L,{enabled:a,query:e.query,onChange:e.onChange,newFormStylingEnabled:!0})))),o().createElement(M.p,null,o().createElement("div",{style:{width:"100%"}},o().createElement(N,{query:e.query,onChange:e.onChange,datasource:e.datasource})))):o().createElement(p.InlineSegmentGroup,null,o().createElement("div",{className:"gf-form-group"},o().createElement(g.Nw,{id:"regions",onChange:O("regions"),fetch:h,value:null!==(C=c.connectionArgs.region)&&void 0!==C?C:null,default:e.datasource.defaultRegion,label:m.components.ConfigEditor.region.input,"data-testid":m.components.ConfigEditor.region.wrapper,labelWidth:11,className:"width-12"}),o().createElement(g.Nw,{id:"catalogs",onChange:O("catalogs"),fetch:b,value:null!==(A=c.connectionArgs.catalog)&&void 0!==A?A:null,default:e.datasource.defaultCatalog,dependencies:[c.connectionArgs.region],label:m.components.ConfigEditor.catalog.input,"data-testid":m.components.ConfigEditor.catalog.wrapper,labelWidth:11,className:"width-12"}),o().createElement(g.Nw,{id:"databases",onChange:O("databases"),fetch:v,value:null!==(R=c.connectionArgs.database)&&void 0!==R?R:null,default:e.datasource.defaultDatabase,dependencies:[c.connectionArgs.catalog],label:m.components.ConfigEditor.database.input,"data-testid":m.components.ConfigEditor.database.wrapper,labelWidth:11,className:"width-12"}),o().createElement(g.Nw,{id:"tables",onChange:O("tables"),fetch:E,value:e.query.table||null,dependencies:[c.connectionArgs.database],tooltip:"Use the selected table with the $__table macro",label:m.components.ConfigEditor.table.input,"data-testid":m.components.ConfigEditor.table.wrapper,labelWidth:11,className:"width-12"}),o().createElement(g.Nw,{id:"columns",onChange:O("columns"),fetch:w,value:e.query.column||null,dependencies:[c.table],tooltip:"Use the selected column with the $__column macro",label:m.components.ConfigEditor.column.input,"data-testid":m.components.ConfigEditor.column.wrapper,labelWidth:11,className:"width-12"}),o().createElement(L,{enabled:a,query:e.query,onChange:e.onChange}),!e.hideOptions&&o().createElement(o().Fragment,null,o().createElement("h6",null,"Frames"),o().createElement(g.vZ,{query:e.query,options:i,onChange:e.onChange}))),o().createElement("div",{style:{minWidth:"400px",marginLeft:"10px",flex:1}},o().createElement(N,{query:e.query,onChange:e.onChange,datasource:e.datasource}))))}const V=e=>({optional:(0,a.css)({fontSize:12,fontStyle:"italic",color:e.colors.text.secondary}),collapseTitle:(0,a.css)({fontSize:14,fontWeight:500,marginBottom:0}),collapse:(0,a.css)({alignItems:"flex-start"}),collapseRow:(0,a.css)({display:"flex",flexDirection:"column",">div":{alignItems:"baseline",justifyContent:"flex-end"},'*[id^="collapse-content-"]':{padding:"unset"}})});function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function H(e){return o().createElement($,Y({},e,{hideOptions:!0}))}var Q=u(980);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}class X extends t.CustomVariableSupport{query(e){return(0,Q.assign)(e.targets,[(t=z({},f,e.targets[0]),n={refId:"A"},n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t)]),this.datasource.query(e);var t,n}constructor(e){super(),this.datasource=e,this.editor=H,this.datasource=e,this.query=this.query.bind(this)}}var Z=u(358);function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}const te={QueryEditor:function(e){return o().createElement($,ee({},e,{hideOptions:!0}))}};function ne(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}class re extends Z.GG{isResultReuseSupported(){var e,t=this;return(e=function*(){if(!t.workgroup)return!1;if(void 0!==t.resultReuseSupported)return t.resultReuseSupported;const e=yield t.getWorkgroupEngineVersion();return t.resultReuseSupported=t.workgroupEngineSupportsResultReuse(e),t.resultReuseSupported},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ne(a,r,o,i,l,"next",e)}function l(e){ne(a,r,o,i,l,"throw",e)}i(void 0)}))})()}workgroupEngineSupportsResultReuse(e){return"Athena engine version 2"!==e}filterQuery(e){return!0!==e.hide&&(0,g.f5)(e)}buildQuery(e,t){return t.map((t=>(t.connectionArgs.region=this.templateSrv.replace(t.connectionArgs.region,e.scopedVars),t.connectionArgs.catalog=this.templateSrv.replace(t.connectionArgs.catalog,e.scopedVars),t.connectionArgs.database=this.templateSrv.replace(t.connectionArgs.database,e.scopedVars),t.table=t.table?this.templateSrv.replace(t.table,e.scopedVars):void 0,t.column=t.column?this.templateSrv.replace(t.column,e.scopedVars):void 0,t)))}query(e){const t=(e=(0,Q.cloneDeep)(e)).targets.filter((e=>!0!==e.hide&&e.rawSQL));return e.targets=this.buildQuery(e,t),super.query(e)}constructor(e,t=(0,n.getTemplateSrv)()){super(e,n.config.featureToggles.athenaAsyncQueryDataSupport),this.templateSrv=t,this.defaultRegion="",this.defaultCatalog="",this.defaultDatabase="",this.workgroup="",this.annotations=te,this.applyTemplateVariables=(e,t)=>(0,g.B)(e,t,n.getTemplateSrv),this.getVariables=()=>this.templateSrv.getVariables().map((e=>`$${e.name}`)),this.getRegions=()=>this.getResource("regions"),this.getCatalogs=e=>this.postResource("catalogs",{region:this.templateSrv.replace(e.connectionArgs.region)}),this.getDatabases=e=>this.postResource("databases",{region:this.templateSrv.replace(e.connectionArgs.region),catalog:this.templateSrv.replace(e.connectionArgs.catalog)}),this.getTables=e=>this.postResource("tables",{region:this.templateSrv.replace(e.connectionArgs.region),catalog:this.templateSrv.replace(e.connectionArgs.catalog),database:this.templateSrv.replace(e.connectionArgs.database)}),this.getColumns=e=>this.postResource("columns",{region:this.templateSrv.replace(e.connectionArgs.region),catalog:this.templateSrv.replace(e.connectionArgs.catalog),database:this.templateSrv.replace(e.connectionArgs.database),table:this.templateSrv.replace(e.table)}),this.getWorkgroupEngineVersion=()=>this.postResource("workgroupEngineVersion",{workgroup:this.workgroup}),this.defaultRegion=e.jsonData.defaultRegion||"",this.defaultCatalog=e.jsonData.catalog||"",this.defaultDatabase=e.jsonData.database||"",this.workgroup=e.jsonData.workgroup||"",this.variables=new X(this)}}var oe=u(622);function ae(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ae(a,r,o,i,l,"next",e)}function l(e){ae(a,r,o,i,l,"throw",e)}i(void 0)}))}}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){le(e,t,n[t])}))}return e}function ce(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}const fe=new t.DataSourcePlugin(re).setConfigEditor((function(e){const t=`/api/datasources/${e.options.id}`,a=`${t}/resources`,[i,s]=(0,r.useState)(!!e.options.jsonData.defaultRegion),[u,c]=(0,r.useState)(""),d=n.config.featureToggles.awsDatasourcesNewFormStyling,f=(y=ie((function*(){i||(yield(0,n.getBackendSrv)().put(t,e.options).then((t=>{e.onOptionsChange(ce(ue({},e.options),{version:t.datasource.version}))})),s(!0))})),function(){return y.apply(this,arguments)});var y;const h=function(){var e=ie((function*(){return yield(0,n.getBackendSrv)().post(a+"/catalogs",{region:l})}));return function(){return e.apply(this,arguments)}}(),b=function(){var t=ie((function*(){return yield(0,n.getBackendSrv)().post(a+"/databases",{region:l,catalog:e.options.jsonData.catalog})}));return function(){return t.apply(this,arguments)}}(),v=function(){var e=ie((function*(){return yield(0,n.getBackendSrv)().post(a+"/workgroups",{region:l})}));return function(){return e.apply(this,arguments)}}(),E=(0,r.useCallback)(ie((function*(){try{const e=yield(0,n.getBackendSrv)().post(a+"/externalId",{});c(e.externalId)}catch(e){c("")}})),[a]);(0,r.useEffect)((()=>{e.options.jsonData.authType===g._e.GrafanaAssumeRole&&E()}),[e.options.jsonData.authType,E]);const w=t=>n=>{var r;const o=null!==(r=null==n?void 0:n.value)&&void 0!==r?r:"";e.onOptionsChange(ce(ue({},e.options),{jsonData:ce(ue({},e.options.jsonData),{[t]:o})}))},O=t=>{const n=t.currentTarget.value;e.onOptionsChange(ce(ue({},e.options),{jsonData:ce(ue({},e.options.jsonData),{outputLocation:n})}))};var T,q,S,C,A,R,I,P;return o().createElement("div",{className:"width-30"},o().createElement(g.mO,se({},e,{onOptionsChange:t=>{s(!1),e.onOptionsChange(t)},newFormStylingEnabled:d,externalId:u})),d?o().createElement(o().Fragment,null,o().createElement(g.iz,null),o().createElement(oe.K,{title:"Athena Details"},o().createElement(p.Field,{label:m.components.ConfigEditor.catalog.input,htmlFor:"catalog","data-testid":m.components.ConfigEditor.catalog.wrapper},o().createElement(g.B5,se({},e,{id:"catalog",value:null!==(T=e.options.jsonData.catalog)&&void 0!==T?T:"",onChange:w("catalog"),fetch:h,label:m.components.ConfigEditor.catalog.input,saveOptions:f,newFormStylingEnabled:!0}))),o().createElement(p.Field,{label:m.components.ConfigEditor.database.input,htmlFor:"database","data-testid":m.components.ConfigEditor.database.wrapper},o().createElement(g.B5,se({},e,{id:"database",value:null!==(q=e.options.jsonData.database)&&void 0!==q?q:"",onChange:w("database"),fetch:b,label:m.components.ConfigEditor.database.input,dependencies:[e.options.jsonData.catalog||""],saveOptions:f,newFormStylingEnabled:!0}))),o().createElement(p.Field,{label:m.components.ConfigEditor.workgroup.input,htmlFor:"workgroup","data-testid":m.components.ConfigEditor.workgroup.wrapper},o().createElement(g.B5,se({},e,{id:"workgroup",value:null!==(S=e.options.jsonData.workgroup)&&void 0!==S?S:"",onChange:w("workgroup"),fetch:v,label:m.components.ConfigEditor.workgroup.input,saveOptions:f,newFormStylingEnabled:!0}))),o().createElement(p.Field,{label:m.components.ConfigEditor.OutputLocation.input,description:"Optional. If not specified, the default query result location from the Workgroup configuration will be used.",htmlFor:"outputLocation"},o().createElement(p.Input,se({},e,{id:"outputLocation",placeholder:"s3://",value:null!==(C=e.options.jsonData.outputLocation)&&void 0!==C?C:"",onChange:O,"data-testid":m.components.ConfigEditor.OutputLocation.wrapper}))))):o().createElement(o().Fragment,null,o().createElement("h3",null,"Athena Details"),o().createElement(g.B5,se({},e,{id:"catalog",value:null!==(A=e.options.jsonData.catalog)&&void 0!==A?A:"",onChange:w("catalog"),fetch:h,label:m.components.ConfigEditor.catalog.input,"data-testid":m.components.ConfigEditor.catalog.wrapper,saveOptions:f})),o().createElement(g.B5,se({},e,{id:"database",value:null!==(R=e.options.jsonData.database)&&void 0!==R?R:"",onChange:w("database"),fetch:b,label:m.components.ConfigEditor.database.input,"data-testid":m.components.ConfigEditor.database.wrapper,dependencies:[e.options.jsonData.catalog||""],saveOptions:f})),o().createElement(g.B5,se({},e,{id:"workgroup",value:null!==(I=e.options.jsonData.workgroup)&&void 0!==I?I:"",onChange:w("workgroup"),fetch:v,label:m.components.ConfigEditor.workgroup.input,"data-testid":m.components.ConfigEditor.workgroup.wrapper,saveOptions:f})),o().createElement(g.ZQ,se({},e,{value:null!==(P=e.options.jsonData.outputLocation)&&void 0!==P?P:"",onChange:O,label:m.components.ConfigEditor.OutputLocation.input,"data-testid":m.components.ConfigEditor.OutputLocation.wrapper,tooltip:"Optional. If not specified, the default query result location from the Workgroup configuration will be used.",placeholder:"s3://"}))))})).setQueryEditor((function(e){const[t,a]=(0,r.useState)(!1),{onChange:i}=e;(0,r.useEffect)((()=>{a(!1)}),[e.data]);const l=(0,r.useCallback)((e=>{a(!0),i(e)}),[i]);return o().createElement(o().Fragment,null,"explore"!==(null==e?void 0:e.app)&&o().createElement(g.xZ,de({},e,{enableRunButton:t&&!!e.query.rawSQL,showAsyncQueryButtons:n.config.featureToggles.athenaAsyncQueryDataSupport,cancel:n.config.featureToggles.athenaAsyncQueryDataSupport?e.datasource.cancel:void 0})),o().createElement($,de({},e,{onChange:l})))}))})(),c})()));
//# sourceMappingURL=module.js.map